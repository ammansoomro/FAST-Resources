!function(){"use strict";var e,t,n,a,o,r,i,l,c,s;window.Redgate=window.Redgate||{},window.Redgate.Navigation=window.Redgate.Navigation||{},window.Redgate.Navigation.MegaMenu=(e=null,t=null,n=document.querySelector(".header__nav"),a=function(e){var t="";null===window.location.hostname.match("www.red-gate.com")&&(t="//www.red-gate.com"),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!1!==e){var a=document.createElement("link"),o=window.Honeycomb&&window.Honeycomb.path?window.Honeycomb.path:"";a.setAttribute("rel","stylesheet"),a.href=o+e;var r=!1;for(var i in a.onload=a.onreadystatechange=function(){r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0,"function"==typeof t&&t.apply(this))},n)a[i]=n[i];document.getElementsByTagName("head")[0].appendChild(a)}}("".concat(t,"/assets/includes/header/mega-menu.css?v=1"),e,{rel:"preload",as:"style"})},o=function(){for(var a=0;a<e.length;a++){var o=e[a];o.classList.add("mega-menu-cta"),o.classList.add("closed"),o.addEventListener("click",r)}for(var i=function(n){for(var a=t[n],o=a.querySelectorAll(".mega-menu__close"),r=0;r<o.length;r++)o[r].addEventListener("click",(function(t){t.preventDefault();for(var n=null,o=0;o<e.length;o++){var r=e[o];a.classList.contains(r.getAttribute("data-mega-menu"))&&(n=r)}n&&l(n)}))},c=0;c<t.length;c++)i(c);document.body.addEventListener("click",(function(a){var o=n.querySelectorAll(".js-mega-menu.open");if(0!==o.length){for(var r=!1,i=0;i<t.length;i++)t[i].contains(a.target)&&(r=!0);for(var c=0;c<e.length;c++)e[c].contains(a.target)&&(r=!0);if(!r)for(var s=0;s<o.length;s++){var d=o[s];l(d)}}}))},r=function(e){e.preventDefault();var t=e.target.parentElement;t.classList.contains("js-mega-menu")&&(t.classList.contains("closed")?i(t):l(t))},i=function(e){c();var t=document.querySelector(".".concat(e.getAttribute("data-mega-menu")));if(!t)return!1;e.classList.remove("closed"),e.classList.add("open"),t.classList.add("open"),window.setTimeout((function(){t.querySelector("a").focus()}),300),document.body.classList.add("mega-menu-open")},l=function(e){var t=document.querySelector(".".concat(e.getAttribute("data-mega-menu")));if(!t)return!1;e.classList.remove("open"),e.classList.add("closed"),t.classList.remove("open"),document.body.classList.remove("mega-menu-open")},c=function(){var e=n.querySelectorAll(".js-mega-menu.open");if(0!==e.length)for(var t=0;t<e.length;t++){var a=e[t];l(a)}},s=function(){for(var e=window.location.pathname,n=0;n<t.length;n++)for(var a=t[n].querySelectorAll("a"),o=0;o<a.length;o++){var r=a[o],i=r.getAttribute("href");null!==e.match(i)&&r.classList.add("active")}},{init:function(){e=n.querySelectorAll(".js-mega-menu"),t=document.querySelectorAll(".mega-menu"),e.length>0&&t.length>0&&a((function(){o(),s(),this.rel="stylesheet"}))},rewritePreload:function(){if(!function(){try{return document.createElement("link").relList.supports("preload")}catch(e){return!1}}()){var e=document.querySelectorAll('link[rel="preload"][as="style"]');if(!e)return;for(var t=0;t<e.length;t++)e[t].setAttribute("rel","stylesheet")}}}),window.Redgate.Navigation.MegaMenu.init(),window.addEventListener("DOMContentLoaded",window.Redgate.Navigation.MegaMenu.rewritePreload)}();