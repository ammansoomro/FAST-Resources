(self.webpackChunklite=self.webpackChunklite||[]).push([[45002,12341,11366],{33336:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var i=t(67294);function r(){return(r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var o=i.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round"},i.createElement("path",{d:"M17.4 7s2.64 3.56 0 6.88M15 8.56s1.6 2.38 0 4.4"})),l=i.createElement("path",{d:"M11.9 3.01a.19.19 0 0 0-.19.04L6.47 7.7H3.2c-.09 0-.21.06-.21.14v5.28c0 .08.12.3.21.3h3.14L11.72 18h.18a.17.17 0 0 0 .1-.15V3.14a.14.14 0 0 0-.1-.14z"});const a=function(e){return i.createElement("svg",r({width:21,height:21},e),o,l)}},42440:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var i=t(67294);function r(){return(r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var o=i.createElement("g",{fillRule:"evenodd"},i.createElement("path",{d:"M4.13 12.21a15.4 15.4 0 0 1-2.54-2.28 6.61 6.61 0 0 1-.16-.2l-.25-.3.25-.3a13.08 13.08 0 0 1 .63-.7 15.4 15.4 0 0 1 1.7-1.51C5.55 5.54 7.5 4.7 9.51 4.7c.62 0 1.28.13 1.98.37l-.8.78a4.54 4.54 0 0 0-1.18-.18c-1.76 0-3.52.76-5.18 2.02-.58.45-1.12.93-1.58 1.41-.28.3-.28.36 0 .65a14.43 14.43 0 0 0 2.08 1.77l-.71.7zm3.05 1.57a6.32 6.32 0 0 0 4.61-.11c1-.38 2.04-.98 3.1-1.72a25.27 25.27 0 0 0 2.68-2.17l.37-.35-.37-.36a23.05 23.05 0 0 0-.76-.68 25.26 25.26 0 0 0-2.28-1.73l-.72.7a24.05 24.05 0 0 1 2.37 1.77c.2.17.2.42 0 .59-.57.49-1.2.97-1.84 1.43-1.01.7-2 1.26-2.9 1.61a5.4 5.4 0 0 1-1.92.42A6.6 6.6 0 0 1 8 13l-.81.78z"}),i.createElement("path",{d:"M12.05 9.06a2.68 2.68 0 0 1-2.7 3A2.74 2.74 0 0 1 9 12l3.06-2.96zM9.72 6.79a2.83 2.83 0 0 0-.37-.02 2.68 2.68 0 0 0-2.7 3l3.07-2.98zM3.6 14.3l-.35.34.68.7.35-.34 10.4-10.08.36-.34-.68-.7-.35.34z"}));const l=function(e){return i.createElement("svg",r({width:19,height:19,viewBox:"0 0 19 19"},e),o)}},12341:(e,n,t)=>{"use strict";t.d(n,{G:()=>j});var i=t(67154),r=t.n(i),o=t(59713),l=t.n(o),a=t(50308),s=t.n(a),c=t(67294),u=t(5977),d=t(52957),m=t(34488),p=t(44470),f=t(4743),v=t(15789),g=t(82423),E=t(96843),h=t(10649),x=t(85090),b=t(93335),y=t(66712),k=t(93912),S=t(50077),w=t(63742),P=t(42933),_=t(30027),N=t(57693),C=t(51512),T=t(66210),F=t(15699),I=t(61250),L=t(14391),O=t(32261),B=t(96879);function R(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function A(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?R(Object(t),!0).forEach((function(n){l()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var M=function(e){return{border:0,height:"1px",backgroundColor:e.baseColor.border.lighter,margin:0}},D={xs:{marginTop:"32px",marginBottom:"30px"},sm:{marginTop:"32px",marginBottom:"30px"},md:{marginTop:"40px",marginBottom:"50px"},lg:{marginTop:"40px",marginBottom:"50px"},xl:{marginTop:"40px",marginBottom:"50px"}},U={xs:{marginTop:"30px",marginBottom:"30px"},sm:{marginTop:"30px",marginBottom:"30px"},md:{marginTop:"50px",marginBottom:"50px"},lg:{marginTop:"50px",marginBottom:"50px"},xl:{marginTop:"50px",marginBottom:"50px"}},V=[L.NJ.H3,L.NJ.H4],H=[L.NJ.IMG,L.NJ.IFRAME],j=c.memo((function(e){var n,t,i,o,l,a=e.post,L=e.excludeMargin,R=void 0!==L&&L,j=e.includeTopDivider,W=void 0===j||j,z=e.includeBottomDivider,G=void 0!==z&&z,X=e.isFirst,$=void 0!==X&&X,Y=e.publisher,K=e.hideAuthor,Z=void 0!==K&&K,q=e.index,Q=e.maxWidthSize,J=void 0===Q?"inset":Q,ee=e.showInResponseToEntityPreview,ne=void 0!==ee&&ee,te=e.mayShowPinned,ie=void 0!==te&&te,re=e.showHighDensityPreview,oe=void 0!==re&&re,le=e.highDensityPreviewReason,ae=e.showBylinePublisherInfo,se=void 0!==ae&&ae,ce=e.isMediumApp,ue=void 0!==ce&&ce,de=e.showNegativeSignalMenu,me=void 0!==de&&de,pe=e.footerActionsMenu,fe=ue?"app":J,ve=A(A({},(0,C.Lk)()),{},{index:q}),ge=(0,m.D)(),Ee=(0,C.f0)(ve),he=ge(a),xe=(0,B.Rk)(he,{source:Ee}),be=c.useRef(null);(0,T.V)(be,a,!1);var ye=a.id,ke=a.collection,Se=a.extendedPreviewContent,we=a.isLocked,Pe=a.firstPublishedAt,_e=a.latestPublishedAt,Ne=a.mediumUrl,Ce=a.pinnedAt,Te=a.pinnedByCreatorAt,Fe=a.visibility,Ie=s(),Le=s();if(null==a||null===(n=a.extendedPreviewContent)||void 0===n||!n.bodyModel)return null;var Oe=null==a||null===(t=a.extendedPreviewContent)||void 0===t?void 0:t.bodyModel;if(!Oe)return null;var Be=A(A({},Oe),{},{paragraphs:(0,y.e)(Oe.paragraphs,xe)}),Re=!!Ce&&!!_e,Ae=Re?_e:Pe,Me=Re?"Updated ":"",De=!(null==a||null===(i=a.extendedPreviewContent)||void 0===i||!i.isFullContent),Ue=W&&!$&&c.createElement(w.V,{styleRules:M}),Ve=G&&c.createElement(w.V,{styleRules:M}),He=ue?{}:$?D:U,je={postId:ye,collectionId:null==ke?void 0:ke.id,isFullPost:null==Se?void 0:Se.isFullContent,postVisibility:(0,k.z)(Fe),context:2,pinned:Boolean(Ce)},We="User"===(null==Y?void 0:Y.__typename)&&a.collection?a.collection:a.creator,ze="User"===(null==Y?void 0:Y.__typename),Ge="Collection"===(null==Y?void 0:Y.__typename),Xe="User"===(null==Y?void 0:Y.__typename)?Te:Ce,$e=(0,f.LI)(Be.paragraphs),Ye="number"==typeof $e.titleIndex?void 0:40,Ke=c.createElement(c.Fragment,{key:"card-byline-and-mixtape"},ue&&a.creator&&!ze?c.createElement(x.iN,{creator:a.creator,collection:a.collection,href:xe,datePrefix:Me,publishedAt:Ae,showStar:!!we,showPinned:ie&&!!Xe,post:a,showPublisherInfo:se,showCollectionName:!Ge}):We&&c.createElement(S.u_,{publisher:We,hideAuthor:ze||Z,href:xe,isOneLine:!0,datePrefix:Me,publishedAt:Ae,showStar:!!we,showPinned:ie&&!!Xe,post:a}),ne&&c.createElement(p.h,{padding:"24px 0 0",post:a,postPreviewMarginBottom:Ye})),Ze=Be.paragraphs[0]&&H.includes(Be.paragraphs[0].type)&&Be.paragraphs[0].name,qe=Be.paragraphs[1]&&V.includes(Be.paragraphs[1].type)&&Be.paragraphs[1].name,Qe=Y||a.creator,Je=!De&&!!Ne&&!!Qe,en=we&&(2===Be.paragraphs.length||3===Be.paragraphs.length)&&1===Oe.sections.length&&qe&&Ze,nn=en&&!ue,tn=!oe,rn="number"==typeof $e.titleIndex?Be.paragraphs[$e.titleIndex].text:null,on="number"==typeof $e.subtitleIndex?Be.paragraphs[$e.subtitleIndex].text:null;ue&&(!on||on.length<400)&&(on=Be.paragraphs.reduce((function(e,n,t){return t!==$e.titleIndex&&t!==$e.subtitleIndex&&t!==$e.kickerIndex&&!H.includes(n.type)&&(null===e||e.length<400)?null===e?n.text:e+" "+n.text:e}),null!==on?on+" â€” ":null));var ln=we?{className:"meteredContent"}:{},an=(0,u.TH)().pathname,sn=(0,I.$B)(an),cn="ShowUser"===(null==sn?void 0:sn.route.name)||"ShowCollectionHome"===(null==sn?void 0:sn.route.name),un=a.isShortform&&cn;return c.createElement(C.cW,{source:ve},c.createElement("article",ln,c.createElement(P.x,r()({boxSizing:"content-box",marginLeft:"auto",marginRight:"auto"},R?{}:He),c.createElement(_.P,{size:fe},Ue,c.createElement(F.o,{post:A(A({},a),{},{previewContent:{isFullContent:De}}),presentationContext:"POST_PREVIEW",isDisplayingFullPost:De,suppressedEvents:De?"VIEWED":void 0,shouldReportClientViewed:!1,reportClientViewedOnFullPost:!0,postClientViewedContext:2,pinned:!!Ce},c.createElement(P.x,{paddingTop:Ue?nn?{xs:"48px",sm:"48px",md:"72px",lg:"72px",xl:"72px"}:"24px":void 0},We&&!nn&&Ke,c.createElement(P.x,{marginTop:en?"":"12px",ref:be},c.createElement(O.O1,{event:{eventName:"post.permalinkClicked",data:A(A({},je),{},{interfaceElement:"title"})}},c.createElement(E.$,{post:a,postUrl:xe,index:q,reason:le,publisherContext:null===(o=a.creator)||void 0===o?void 0:o.__typename,showPreview:oe,showContent:un,titleText:rn,subTitleText:on,onReadMore:Ie,onHoverReadMore:Le,showNegativeSignalMenu:me,footerActionsMenu:pe,preload:!0},un&&c.createElement(v.b,{isAuroraPostPageEnabled:!0,post:null,inlinePost:a,richTextStyle:"INLINE",markedUpBodyModel:Be}))))),Je&&!oe&&c.createElement(N.D,{onMouseEnter:Le,onMouseLeave:function(){}},c.createElement(h.y,{onReadMore:Ie,post:a,padding:nn?"24px 0 0 0":void 0})),un&&c.createElement(P.x,{margin:"32px 0px"},c.createElement(g.F,{post:a,useSocialPopover:!1,shouldHideClapsText:!0})))),c.createElement(P.x,{marginTop:oe?void 0:"36px"}),a&&tn&&c.createElement(d.T,{isDockingEnabled:!1,maxWidthSize:fe},c.createElement(b.T,{post:a,publisherContext:null===(l=a.creator)||void 0===l?void 0:l.__typename,isActiveExpandedPost:!1,showNegativeSignalMenu:me,actionsMenu:pe})))),G&&c.createElement(_.P,{size:fe},Ve))}))},88096:(e,n,t)=>{"use strict";t.d(n,{B:()=>p});var i=t(67294),r=t(51562),o=t(76532),l=t(42933),a=t(30027),s=t(55099),c=t(98024),u=t(67297),d=t(95614),m=t(27952),p=function(e){var n,t,p,f=e.optimizelyFeature,v=e.backgroundColor,g=e.margin,E=e.padding,h=(n=(0,u.v9)((function(e){return e.config.authDomain})),t=(0,d.T)(),p=!!(0,o.H)().value,t?{buttonHref:"https://rsci.app.link/?$canonical_url=".concat(encodeURIComponent((0,m.Zp)(n))),buttonText:"Write with the app",target:"mobile",text:"Post a quick thought or a long story.\nIt's easy and free."}:p?{buttonHref:(0,m.Zp)(n),buttonText:"Write on Medium",target:"li",text:"Share your ideas with millions of readers."}:{buttonHref:(0,m.Zp)(n),buttonText:"Write on Medium",target:"lo",text:"Share your ideas with millions of readers."});return i.createElement(r.W,{featureString:f,target:"unit-".concat(h.target)},i.createElement(l.x,{textAlign:"center",padding:E||"16px",margin:g,backgroundColor:v||"NONE",borderRadius:"4px"},i.createElement(a.P,{size:"full"},i.createElement(r.W,{featureString:f,target:"text-".concat(h.target),tag:"span"},i.createElement(l.x,{display:{xs:"block",sm:"block",md:"inline-block",lg:"inline-block",xl:"inline-block"},whiteSpace:{xs:"pre-line",sm:"pre-line",md:"normal",lg:"normal",xl:"normal"}},i.createElement(c.F,{scale:"L",color:"DARKER"},h.text))),i.createElement(r.W,{featureString:f,target:"link-".concat(h.target),tag:"span"},i.createElement(l.x,{display:{xs:"block",sm:"block",md:"inline-block",lg:"inline-block",xl:"inline-block"},margin:{xs:"10px 0 0 0",sm:"10px 0 0 0",md:"0 0 0 12px",lg:"0 0 0 12px",xl:"0 0 0 12px"}},i.createElement(s.z,{href:h.buttonHref,buttonStyle:"BRAND"},h.buttonText))))))}},4697:(e,n,t)=>{"use strict";t.d(n,{X:()=>M});var i=t(63038),r=t.n(i),o=t(59713),l=t.n(o),a=t(67294),s=t(28655),c=t.n(s),u=t(71439),d=t(90194),m=t(41707),p=t(1072),f=t(42933),v=t(51512),g=t(534);function E(){var e=c()(["\n  fragment NewsletterV3AmpButton_newsletterV3 on NewsletterV3 {\n    id\n    collection {\n      ...collectionDefaultBackgroundTheme_collection\n    }\n  }\n  ","\n"]);return E=function(){return e},e}(0,u.Ps)(E(),g.Gi);var h=function(e){var n=e.newsletterV3,t=e.buttonLayout,i=void 0===t?"MULTI-LINE":t,r=e.buttonSize,o=void 0===r?"LARGE":r,l=e.buttonStyle,s=void 0===l?"STRONG":l,c=e.redirectUrl;return a.createElement(m.Z,null,(function(e){return a.createElement(p.f,{theme:(0,g.jN)(null==n?void 0:n.collection,e)},a.createElement(v.cW,{source:{newsletterV3Id:n.id},extendSource:!0},a.createElement(f.x,{margin:"COMPACT"===i?"10px 20px 10px 0":"",xs:{margin:"10px 0 0 0"}},a.createElement(d.w,{buttonSize:o,buttonStyle:s,onClick:function(){return null},showMailIcon:!1,buttonText:"Learn more",redirectUrl:c}))))}))},x=t(11969),b=t(56202),y=t(53976),k=t(76532),S=t(73891),w=t(82318),P=t(37278),_=t(98024),N=t(95760),C=t(6688),T=t(77180),F=t(27108),I=t(14391),L=t(67297),O=t(80637),B=t(27952),R=function(e,n){var t;return t={borderTop:"3px solid ".concat(e.accentColor.border.normal),padding:"32px 32px 26px 32px",marginTop:"8px",marginBottom:"25px",backgroundColor:e.baseColor.background.light},l()(t,O.sm(e),{padding:"24px 24px 28px 24px"}),l()(t,"minHeight",n),t},A=function(e){var n=e.isAmp,t=e.viewer,i=e.newsletterV3,r=e.newsletterV3LandingUrl,o=e.useCustomDomainLOFlow,l=e.isVertical,s=e.handleClick;return n?i&&a.createElement(h,{newsletterV3:i,buttonLayout:"COMPACT",redirectUrl:r}):t||o?i&&a.createElement(x.x,{newsletterV3:i,buttonLayout:"COMPACT",helperTextColor:"DARKER",redirectUrl:o?r:void 0}):i&&a.createElement(b.QL,{newsletterV3:i,isVertical:l,handleClick:s})},M=function(e){var n,t,i,o,l,s=e.postId,c=e.publisher,u=e.isVertical,d=void 0!==u&&u,m=a.useRef(null),p=(0,L.v9)((function(e){return e.config.authDomain})),g=(0,L.p9)((function(e){return e.config.isAmp})),E=(0,N.Av)(),h=(0,C.I)(),x=(0,T.F)(),b=(0,k.H)().value,O=!!(0,y.VB)({name:"enable_newsletter_lo_flow_custom_domains",placeholder:!1}),M=a.useState(!1),D=r()(M,2),U=D[0],V=D[1],H=a.useState("0px"),j=r()(H,2),W=j[0],z=j[1],G=null==(0,L.v9)((function(e){return e.navigation.currentLocation})).match("http[s]?://[^/]*".concat(p)),X=!b&&G&&O,$=c.newsletterV3,Y=null==$?void 0:$.type,K=c.username,Z=void 0===K?"":K,q=(0,B.iBn)(null!==(n=null==$?void 0:$.slug)&&void 0!==n?n:"",p,Y===I.Rr.NEWSLETTER_TYPE_COLLECTION?c:void 0,Y===I.Rr.NEWSLETTER_TYPE_AUTHOR&&Z?Z:void 0),Q="Collection"===c.__typename?c:void 0,J=(0,S.gY)(Q).viewerEdge;switch(Y){case I.Rr.NEWSLETTER_TYPE_COLLECTION:t="Sign up for ".concat(null==$?void 0:$.name),i="0px",o="You're an editor of ".concat(null==$?void 0:$.name),l=null==J?void 0:J.isEditor;break;case I.Rr.NEWSLETTER_TYPE_AUTHOR:t=(null==$?void 0:$.promoHeadline)||"Get an email whenever ".concat(c.name," publishes."),i="6px",o="You cannot subscribe to yourself",l=c.viewerIsUser}U&&(t="Check your inbox.");var ee=!1,ne=function(){!ee&&te()&&(E.event("newsletterV3.promoViewed",{newsletterV3Id:null==$?void 0:$.id,postId:s}),ee=!0)},te=function(){var e;if(!m.current)return!1;var n=null===(e=m.current)||void 0===e?void 0:e.getBoundingClientRect(),t=n.top+n.height/2;return t>=0&&t<=window.innerHeight};return a.useEffect((function(){return ne(),window&&F.V6.on("scroll",ne),function(){F.V6.off("scroll",ne)}}),[]),a.useEffect((function(){var e;if(m.current){var n=(null===(e=m.current)||void 0===e?void 0:e.getBoundingClientRect()).height;z("".concat(n,"px"))}}),[m]),$&&a.createElement(v.cW,{source:{name:"newsletter_v3_promo",susiEntry:"newsletter_v3_promo"}},a.createElement("div",{ref:m,className:d?void 0:h(R(x,W))},a.createElement(f.x,{paddingBottom:i},a.createElement(P.X6,{scale:{xs:"S",sm:"S",md:d?"S":"M",lg:d?"S":"M",xl:d?"S":"M"}},t)),Y===I.Rr.NEWSLETTER_TYPE_COLLECTION&&!U&&a.createElement(a.Fragment,null,a.createElement(f.x,{paddingTop:"4px"},a.createElement(_.F,{tag:"h3",scale:"S",color:"DARKER"},"By ".concat(c.name))),a.createElement(f.x,{paddingTop:"8px",paddingBottom:"10px"},a.createElement(_.F,{scale:d?"S":{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},null==$?void 0:$.description,"Â ",!g&&a.createElement(w.r,{inline:!0,linkStyle:"OBVIOUS",href:q},"Take a look.")))),Y===I.Rr.NEWSLETTER_TYPE_AUTHOR&&(null==$?void 0:$.promoBody)&&!U&&a.createElement(a.Fragment,null,a.createElement(f.x,{paddingTop:"8px",paddingBottom:"8px"},a.createElement(_.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},null==$?void 0:$.promoBody))),l?a.createElement(f.x,{paddingTop:"10px"},a.createElement(_.F,{scale:"M",color:"DARKER"},o)):a.createElement(f.x,{display:"flex",flexWrap:"wrap"},a.createElement(A,{viewer:b,isAmp:g,useCustomDomainLOFlow:X,newsletterV3:$,newsletterV3LandingUrl:q,isVertical:d,handleClick:function(){return V(!0)}}))))}},28048:(e,n,t)=>{"use strict";t.d(n,{F:()=>r,b:()=>o});var i=t(319),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"showPromo"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}}]},o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"}}]}}]}}].concat(t.n(i)()(r.definitions))}},88703:(e,n,t)=>{"use strict";t.d(n,{g:()=>l,t:()=>a});var i=t(67294),r=t(81474),o=t(32589),l=function(e){var n=e.creator,t=a(n);return n?t:{value:!1}},a=function(e){var n,t,l,a=(0,o.Pd)(e),s=a.viewerEdge,c=a.loading,u=i.useRef(null),d=(0,r.T)({newsletterSlug:null==e||null===(n=e.newsletterV3)||void 0===n?void 0:n.slug,username:null==e?void 0:e.username}),m=d.viewerEdge,p=d.loading;return(l=null!==u.current?{value:u.current}:c||p?{loading:!0}:null!=e&&null!==(t=e.newsletterV3)&&void 0!==t&&t.showPromo?{value:!(!(null!=s&&s.isUser||null==m)&&m.isSubscribed)}:{value:!1}).loading||void 0===l.value||null!==u.current||(u.current=l.value),l}},43286:(e,n,t)=>{"use strict";t.d(n,{P:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowCollectionNewsletterV3Promo_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"showPromo"}}]}}]}}]}},82108:(e,n,t)=>{"use strict";t.d(n,{_:()=>o});var i=t(73891),r=t(81474),o=function(e){var n=(e||{}).newsletterV3,t=(0,i.gY)(e),o=t.viewerEdge,l=t.loading,a=(0,r.T)({newsletterSlug:null==n?void 0:n.slug,collectionSlug:null==e?void 0:e.slug}),s=a.viewerEdge,c=a.loading;return!(null==n||!n.showPromo||l||c||!(null!=o&&o.isEditor||null==s)&&s.isSubscribed)}},68127:(e,n,t)=>{"use strict";t.d(n,{X:()=>N,c:()=>I});var i=t(63038),r=t.n(i),o=t(28655),l=t.n(o),a=t(71439),s=t(67294),c=t(12291),u=t(47875),d=t(65340),m=t(86948),p=t(21356),f=t(65922),v=t(98462),g=t(79296),E=t(42933),h=t(53910),x=t(89375),b=t(82318),y=t(80908),k=t(98024),S=t(15699),w=t(36891),P=t(27952);function _(){var e=l()(["\n  fragment PostListingItemRecirc_post on Post {\n    __typename\n    id\n    title\n    isLocked\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    ...PostByline_post\n    ...PostPresentationTracker_post\n    ...BookmarkButton_post\n    ...MultiVote_post\n    ...PostRecircItemV2_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return _=function(){return e},e}var N=(0,a.Ps)(_(),u.H,S.h,m.z,p.x,d.D),C=function(e){var n=e.height,t=e.width;return{paddingBottom:"".concat(n/t*100,"%"),position:"relative"}},T={height:"100%",position:"absolute",width:"100%"},F=function(e){var n=e.title,t=e.url;return s.createElement(v.P,{href:t},s.createElement(y.Dx,{scale:"S",tag:"h3"},n))},I=(0,c.$j)((function(e){return{productName:e.config.productName}}))((function(e){var n,t,i=e.post,o=e.productName,l=e.target,a=s.useState(!1),c=r()(a,2),d=c[0],v=c[1],y=s.useCallback((function(e){!d&&e.isIntersecting&&v(!0)}),[d]);if((0,w.S)({onIntersect:y,target:l,disconnect:function(){return d},rootMargin:"100px"},[d]),"SuggestedPost"===i.__typename?(n=function(e,n){var t,i,r,o;switch(e&&e[0]&&e[0].reason){case"TOP_SIMILAR_TO_POST":case"CF_POST_SIMILAR_TO_POST":return"Related reads";case"TOP_IN_TOPIC":return o=e[0].topics?e[0].topics[0].name:"topic","Popular in ".concat(o);case"POSTS_SHARING_AUTHOR":return t=e[0].users?e[0].users[0].name:"author","More from ".concat(t);case"POSTS_SHARING_TAGS":return(r=e[0].tags&&e[0].tags[0].name)?"Also tagged ".concat(r):"";case"TOP_IN_COLLECTION":return i=e[0].collections?e[0].collections[0].name:"publication","More from ".concat(i);case"TOP_FOR_THE_DAY_GLOBALLY":return"Top on ".concat(n);case"POSTS_SHARING_COLLECTION_AND_TAGS":return r=e[0].tags&&e[0].tags[0].name,i=e[0].collections?e[0].collections[0].name:"publication",r?"More on ".concat(r," from ").concat(i):"";case"RECOMMENDED_BY_AUTHOR":return(t=e[0].users&&e[0].users[0].name)?"Applause from ".concat(t):"";case"TOP_FOR_THE_DAY":return"Trending on ".concat(n);default:return"Picked for you"}}(i.postSuggestionReasons,o),t=i.post):t=i,!t)return null;var _,N,I,L,O,B,R,A=(_={id:(t.previewImage?t.previewImage.id:"")||"1*hn4v1tCaJy7cWMyb0bpNpQ.png",width:328,height:218,focusPercentX:t.previewImage?t.previewImage.focusPercentX:null,focusPercentY:t.previewImage?t.previewImage.focusPercentY:null},L=_.width,O=_.height,B=_.focusPercentX,R=_.focusPercentY,(I=_.id)?(N="number"==typeof B&&"number"==typeof R?[B,R]:[50,50],s.createElement(g.h,null,(function(e){return s.createElement("div",{className:e(C({height:O,width:L}))},s.createElement("div",{className:e(T)},s.createElement(f.B,{miroId:I,imgHeight:O,imgWidth:L,width:"100%",height:"100%",freezeGifs:!1,focusPercent:N})))}))):null);return s.createElement(S.o,{post:t,presentationContext:"PLACEMENT"},s.createElement(E.x,{md:{marginBottom:"48px"}},s.createElement(h.T,{alignItems:{xs:"flex-start",sm:"center",md:"center",lg:"flex-start",xl:"flex-start"},direction:{xs:"row",sm:"row-reverse",md:"row-reverse",lg:"row",xl:"row"}},s.createElement(x.P,{size:{xs:12,sm:6,md:6,lg:12,xl:12}},n&&s.createElement(E.x,{marginBottom:"12px",md:{display:"none"},xs:{display:"block"}},s.createElement(k.F,{scale:"M",tag:"h4"},n)),A&&s.createElement(E.x,{marginBottom:"16px",md:{marginBottom:"0px"},xs:{marginBottom:"16px"}},s.createElement(b.r,{display:"block",href:(0,P.jVf)(t)},d?A:null))),s.createElement(x.P,{size:{xs:12,sm:6,md:6,lg:12,xl:12}},s.createElement(E.x,{marginBottom:"16px"},n&&s.createElement(E.x,{display:"none",marginBottom:"4px",md:{display:"block"},xs:{display:"none"}},s.createElement(k.F,{scale:"M",tag:"h4"},n)),s.createElement(F,{title:t.title?t.title:"",url:(0,P.jVf)(t)})),s.createElement(E.x,{display:"flex",alignItems:"center",justifyContent:"space-between"},s.createElement(E.x,{flexShrink:"1",marginRight:"10px"},s.createElement(u.G,{post:t,showBio:!1,scale:"S",showStar:!!t.isLocked,hideAvatar:!d})),s.createElement(E.x,{display:"flex",alignItems:"center"},s.createElement(p.S,{post:t,buttonStyle:"SUBTLE",susiEntry:"clap_preview"}),s.createElement(E.x,{borderRight:"BASE_LIGHTER",marginLeft:"12px",marginRight:"10px",height:"20px",width:"1px"}),s.createElement(m.e,{post:t,susiEntry:"bookmark_preview"})))))))}))},47875:(e,n,t)=>{"use strict";t.d(n,{H:()=>z,G:()=>G});var i=t(28655),r=t.n(i),o=t(34575),l=t.n(o),a=t(93913),s=t.n(a),c=t(2205),u=t.n(c),d=t(78585),m=t.n(d),p=t(29754),f=t.n(p),v=t(59713),g=t.n(v),E=t(71439),h=t(67294),x=t(12291),b=t(95482),y=t(62182),k=t(49925),S=t(9292),w=t(10697),P=t(98281),_=t(16831),N=t(31001),C=t(11615),T=t(79296),F=t(41707),I=t(82318),L=t(42933),O=t(98024),B=t(80637),R=t(7650),A=t(42440),M=t(27390),D=t(27952),U=t(61598);function V(){var e=r()(["\n  fragment PostByline_post on Post {\n    id\n    isPublished\n    firstPublishedAt\n    readingTime\n    statusForCollection\n    isLocked\n    visibility\n    mediumUrl\n    collection {\n      name\n      id\n      ...auroraHooks_publisher\n      ...PostSidebar_collection\n      ...collectionUrl_collection\n    }\n    creator {\n      id\n      name\n      username\n      bio\n      ...UserAvatar_user\n      ...UserFollowButton_user\n      ...UserSubscribeButton_user\n      ...userUrl_user\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return V=function(){return e},e}var H={XS:{showFollowButton:!1,avatarScale:"XS"},S:{showFollowButton:!1,avatarScale:"S"},M:{showFollowButton:!0,avatarScale:"M"}},j=function(e,n){return g()({marginBottom:e?"2px":"0px",display:"flex",alignItems:"center"},B.xs(n),{marginBottom:"0px"})},W=function(e){u()(r,e);var n,t,i=(n=r,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(n);if(t){var r=f()(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return m()(this,e)});function r(){return l()(this,r),i.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e=this.props,n=e.authDomain,t=e.currentLocation,i=e.post,r=e.showBio,o=e.scale,l=void 0===o?"M":o,a=e.detailScale,s=void 0===a?"M":a,c=e.showStar,u=void 0===c?i.isLocked:c,d=e.hideCollection,m=void 0!==d&&d,p=e.hideAvatar,f=void 0!==p&&p,v=e.hideDescription,g=void 0!==v&&v,E=e.noClamp,x=void 0!==E&&E,y=i.id,k=i.creator,_=i.collection,N=i.statusForCollection,C=i.visibility,B=i.isPublished,U=H[l];if(!i||!y||!k)return null;var V=i.firstPublishedAt,W=k.username,z=k.name;if(!z||!W)return null;var G=h.createElement(P.Yt,{user:k,scale:U.avatarScale,link:!0}),X=r?h.createElement("div",null,k.bio):null,$="APPROVED"===N,Y=U.showFollowButton?h.createElement(L.x,{marginLeft:"8px",display:"flex"},h.createElement(w.N,{creator:k,followButtonSize:"COMPACT",post:i,susiEntry:"follow_byline",showMembershipUpsellModal:!!i.collection,isSubscribeCompact:!0})):null,K=h.createElement(T.h,null,(function(e){return h.createElement(F.Z,null,(function(i){return h.createElement("div",{className:e(j(U.showFollowButton,i))},h.createElement(O.F,{scale:s,tag:"span",color:"DARKER",clamp:x?void 0:1},h.createElement(I.r,{href:(0,D.AWr)(k,n),inline:!0},z),_&&$&&!m?h.createElement("span",null," ","in"," ",h.createElement(I.r,{href:(0,D.WGd)(_,t,n),inline:!0},_.name)):null),Y)}))})),Z=h.createElement(O.F,{scale:s,tag:"span",clamp:1},X,h.createElement("div",null,B?h.createElement(I.r,{href:(0,D.jVf)(i),inline:!0},V&&h.createElement(b.E,{timestamp:V})):h.createElement("span",null,"Draft")," ","Â·"," ","UNLISTED"===C?h.createElement(O.F,{scale:"S",tag:"span"},h.createElement(A.Z,null)," Unlisted"):h.createElement(h.Fragment,null,(0,M.Vd)(i.readingTime||0)," min read"),u&&h.createElement("span",{style:{paddingLeft:"4px"}},h.createElement(R.Z,{style:{marginTop:"-2px"}}))));return h.createElement(S.Y,{avatar:!f&&G,title:K,description:!g&&Z})}}]),r}(h.Component),z=(0,E.Ps)(V(),U.nf,k.C5,_.W,N.sj,U.$m,y.PostSidebar_collection,C.w),G=(0,x.$j)((function(e){return{currentLocation:e.navigation.currentLocation,authDomain:e.config.authDomain}}))(W)},38741:(e,n,t)=>{"use strict";t.d(n,{X:()=>d,Z:()=>u});var i=t(319),r=t.n(i),o=t(72350),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityDrivenSubscriptionCallToAction_creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShouldShowEntityDrivenSubscription_creator"}}]}}].concat(r()(o.G.definitions))},a=t(10483),s=t(14894),c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AudioPlayback_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"audioVersionUrl"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpsellClickable_post"}}]}}].concat(r()(s.H.definitions))},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3PostHeaderCTA_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"replyToEmail"}}]}},{kind:"Field",name:{kind:"Name",value:"replyToEmailBannerShownCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"EntityDrivenSubscriptionCallToAction_creator"}}]}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isPublishToEmail"}},{kind:"Field",name:{kind:"Name",value:"layerCake"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MeterController_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNoteMissingNotification_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AudioPlayback_post"}}]}}].concat(r()([{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3PostHeaderCTA_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]),r()(l.definitions),r()(a.W.definitions),r()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNoteMissingNotification_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),r()(c.definitions))},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostHeader_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeterController_meteringInfo"}}]}}].concat(r()(a.d.definitions))}},41067:(e,n,t)=>{"use strict";t.d(n,{m:()=>fe});var i=t(67294),r=t(28655),o=t.n(r),l=t(63038),a=t.n(l),s=t(59713),c=t.n(s),u=t(71439),d=t(42933),m=t(98024),p=t(6688),f=t(99701),v={"0%":{visibility:"hidden"},"1%":{visibility:"visible",opacity:0},"100%":{opacity:1}},g={"0%":{opacity:1,visibility:"visible"},"99%":{opacity:0},"100%":{visibility:"hidden"}},E=function(e){return{display:"flex",justifyContent:"flex-start",alignItems:"center",flexGrow:1,height:"2px",cursor:"pointer",":focus":{outline:"1px dotted ".concat(e.baseColor.fill.normal)}}},h=function(e){return{backgroundColor:e.baseColor.fill.normal,position:"relative",marginLeft:"-5px",height:"10px",width:"10px",borderRadius:"50%",cursor:"pointer"}};function x(e){var n=~~(e%60);return[~~(e/60),n<10?"0"+n:n].join(":")}var b=function(e){var n=e.duration,t=e.elapsed,r=e.isProgressBeanVisible,o=e.onEnter,l=e.onLeave,a=e.onProgressBeanAnimationEnd,s=e.onTimeUpdate,c=e.shouldProgressBeanAnimate,u=(0,p.I)(),b=(0,f.o)({fadeInKeyframesName:v,fadeOutKeyframesName:g}),y=b.fadeInKeyframesName,k=b.fadeOutKeyframesName,S=i.useRef(null),w=t&&n?Math.max(0,Math.min(t/n*100,100)):0,P={left:"".concat(w,"%"),opacity:r?1:0},_=i.useCallback((function(e){var t=e.pageX,i=document.getElementById("audio-player-progress-bar"),r=t-(i.getBoundingClientRect().left+window.scrollX);return n/i.offsetWidth*r}),[n]),N=i.useCallback((function(e){function n(e){s(_(e))}0===e.button&&(s(_(e)),document.addEventListener("mousemove",n),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",e)})))}),[_,l,s]),C=i.useCallback((function(e){"ArrowLeft"===e.key?s(Math.max(t-5,0)):"ArrowRight"===e.key&&s(Math.min(t+5,n))}),[t,n,s]),T=i.useCallback((function(){document.activeElement!==S.current&&l()}),[null==S?void 0:S.current,l]),F=[h,P];return c&&F.push({animation:"".concat(r?y:k," .2s ease-in-out forwards")}),i.createElement(d.x,{display:"flex",alignItems:"center"},i.createElement(d.x,{width:"28px",marginRight:"12px",textAlign:"left"},i.createElement(m.F,{scale:"M"},t?x(t):"--:--")),i.createElement("div",{className:u([E,function(e){return{background:"linear-gradient(to right, ".concat(e.baseColor.fill.normal," ").concat(w,"%, ").concat(e.baseColor.background.normal," 0)")}}]),id:"audio-player-progress-bar",role:"slider",ref:S,"aria-valuemin":0,"aria-valuemax":n,"aria-valuenow":t,tabIndex:0,onMouseDown:N,onFocus:o,onBlur:T,onKeyDown:C,onMouseEnter:o,onMouseLeave:T},i.createElement("div",{className:u(F),onAnimationEnd:a})),i.createElement(d.x,{width:"28px",marginLeft:"12px",textAlign:"right"},i.createElement(m.F,{scale:"M"},n?x(n):"--:--")))},y=t(95760);function k(){return(k=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var S=i.createElement("g",{transform:"translate(5 4)",fillRule:"evenodd"},i.createElement("rect",{width:6,height:17,rx:2}),i.createElement("rect",{x:9,width:6,height:17,rx:2}));const w=function(e){return i.createElement("svg",k({width:25,height:25},e),S)};function P(){return(P=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var _=i.createElement("path",{d:"M7 4v17.03a.5.5 0 0 0 .8.4l11.1-8.1a1 1 0 0 0 0-1.62L7.8 3.6A.5.5 0 0 0 7 4z"});const N=function(e){return i.createElement("svg",P({width:25,height:25},e),_)};var C=function(e){return{borderRadius:"4px",padding:"8px",borderWidth:"1px",borderStyle:"solid",boxSizing:"border-box",display:"inline-block",textDecoration:"none",color:e.baseColor.text.normal,fill:e.baseColor.fill.normal,background:0,borderColor:e.baseColor.border.dark,":hover":{cursor:"pointer",color:e.baseColor.text.darker,fill:e.baseColor.fill.darker,borderColor:e.baseColor.border.darker}}},T=function(e){var n=e.dispatch,t=e.postId,r=e.isPlaying,o=(0,p.I)(),l=(0,y.Av)(),a=i.useCallback((function(){var e=document.getElementById("audio-player");r?(l.event("audio.end",{postId:t}),e.pause(),n({type:"pause"})):(l.event("audio.start",{postId:t}),e.play(),n({type:"play"}))}),[r]);return i.createElement("button",{onClick:a,className:o(C)},r?i.createElement(w,null):i.createElement(N,null))},F=t(89423),I=t(62876),L=t(54389),O=t(51512),B=t(96907),R=t(33336);function A(){var e=o()(["\n  fragment AudioPlayback_post on Post {\n    id\n    audioVersionUrl\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    ...UpsellClickable_post\n  }\n  ","\n"]);return A=function(){return e},e}function M(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?M(Object(t),!0).forEach((function(n){c()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):M(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var U={duration:0,elapsed:0,playing:!1},V=function(e,n){switch(n.type){case"load":return D(D({},e),{},{duration:n.duration});case"play":return D(D({},e),{},{playing:!0});case"pause":return D(D({},e),{},{playing:!1});case"seek":return D(D({},e),{},{elapsed:n.clickedTime});case"progress":return D(D({},e),{},{elapsed:n.elapsed});case"end":return D(D({},e),{},{playing:!1});default:return e}},H=function(e){var n=e.postId,t=e.audioVersionUrl,r=i.useReducer(V,U),o=a()(r,2),l=o[0],s=o[1],c=l.duration,u=l.elapsed,p=l.playing,f=i.useState(!1),v=a()(f,2),g=v[0],E=v[1],h=i.useState(!1),x=a()(h,2),y=x[0],k=x[1],S=i.useCallback((function(){E((function(e){return k(!!e),!1}))}),[]),w=i.useCallback((function(){E((function(e){return k(!e),!0}))}),[]);return i.useEffect((function(){var e=document.getElementById("audio-player");function n(){s({type:"load",duration:e.duration})}function t(){s({type:"progress",elapsed:e.currentTime})}function i(){s({type:"end"})}return e.addEventListener("canplay",n),e.addEventListener("timeupdate",t),e.addEventListener("ended",i),function(){e.removeEventListener("canplay",n),e.removeEventListener("timeupdate",t),e.removeEventListener("ended",i)}}),[]),i.useEffect((function(){var e=document.getElementById("audio-player");Math.round(u)!==Math.round(e.currentTime)&&document.hasFocus()&&(e.currentTime=u)}),[u]),i.createElement(d.x,{display:"flex",justifyContent:"center",margin:"20px 0"},i.createElement("audio",{id:"audio-player"},i.createElement("source",{src:t})),i.createElement(d.x,{display:"flex",alignItems:"center",flexGrow:"1"},i.createElement(d.x,{marginRight:"16px"},i.createElement(T,{dispatch:s,postId:n,isPlaying:p})),i.createElement(d.x,{display:"flex",flexDirection:"column",flexGrow:"1"},i.createElement(m.F,{scale:"M",color:"DARKER"},"Listen to this story"),i.createElement(b,{elapsed:u,duration:c,isProgressBeanVisible:g,onEnter:w,onLeave:S,onProgressBeanAnimationEnd:function(){return k(!1)},onTimeUpdate:function(e){return s({type:"seek",clickedTime:Math.max(0,Math.min(e,c))})},shouldProgressBeanAnimate:y}))))},j=function(e){return{fill:e.baseColor.fill.light,marginLeft:"15px",marginRight:"15px"}},W=function(e){var n=e.post,t=(0,p.I)();return i.createElement(L.M,{columns:8,display:"flex",flexShrink:"0",margin:"30px 0",padding:"20px 12px",backgroundColor:"BASE_LIGHT"},i.createElement(R.Z,{className:t(j)}),i.createElement(m.F,{scale:"S",color:"DARKER",tag:"span"},"Psst... thereâ€™s an audio version of this story."," ",i.createElement(I.a,{post:n,linkStyle:"OBVIOUS"},"Upgrade to listen")))};function z(e){var n=e.post,t=n.id,r=n.audioVersionUrl,o=(n.content||{}).isLockedPreviewOnly;return i.createElement(d.x,{marginTop:"30px"},i.createElement(F.I,null,(function(e){return e&&e.mediumMemberAt||!o?i.createElement(H,{postId:t,audioVersionUrl:r}):i.createElement(O.cW,{source:{dimension:"audio_exclusive",name:"upgrade_membership",postId:t}},i.createElement(B.M,null,i.createElement(W,{post:n})))})))}(0,u.Ps)(A(),I.H);var G=t(87392),X=t(46829),$=t(94093),Y=t(47089),K=t(82318),Z=t(80685),q=t(67297),Q=t(27952),J=Z.T3.IMPORT_AWARENESS_BANNER,ee=function(e){var n=e.viewer,t=e.loading,r=(0,q.v9)((function(e){return e.config.authDomain})),o=!(null==n||!n.dismissableFlags.includes(J)),l=(null==n?void 0:n.id)||"",s=(0,X.useMutation)(Y.a,{variables:{userId:l,flag:J}}),c=a()(s,1)[0];return t||o?null:i.createElement(i.Fragment,null,i.createElement($.I,{dismissable:!0,onClick:c},i.createElement(m.F,{scale:"L",color:"DARKER",tag:"span"},i.createElement("strong",null,"New!")," You can now import subscribers into your email list."," "),i.createElement(K.r,{inline:!0,linkStyle:"SUBTLE",href:(0,Q.sBN)(r)},i.createElement(m.F,{scale:"L",color:"ERROR",tag:"span"},"Start an import."))))};function ne(){var e=o()(["\n  fragment NewsletterV3PostHeaderCTA_collection on Collection {\n    id\n    domain\n    slug\n    name\n    newsletterV3 {\n      id\n      slug\n      name\n    }\n  }\n"]);return ne=function(){return e},e}(0,u.Ps)(ne());var te=function(e){var n=e.collection,t=(0,q.v9)((function(e){return e.config.authDomain})),r=n.newsletterV3||{id:"",slug:"",name:""},o=(0,Q.iBn)(r.slug,t,n),l=function(){return i.createElement(K.r,{inline:!0,linkStyle:"OBVIOUS",href:o},r.name)};return i.createElement(i.Fragment,null,i.createElement($.I,null,n.newsletterV3?i.createElement(i.Fragment,null,"This is an email from ",i.createElement(l,null),", a newsletter by ",n.name,"."):i.createElement(i.Fragment,null,"This is an email from ",n.name,".")))},ie=t(5977),re=t(3149),oe=t(51064),le=function(e){var n=e.children,t=e.onHide,r=void 0===t?function(){}:t,o=(0,oe.O)(!0),l=a()(o,3),s=l[0],c=l[2],u=i.useCallback((function(){c(),r()}),[r]);return s?i.createElement(d.x,{border:"BASE_LIGHT",borderRadius:"4px",padding:"16px 8px 16px 28px",display:"flex",justifyContent:"space-between",alignItems:"center"},i.createElement(m.F,{scale:"L",color:"DARKER"},n),i.createElement(re.P,{onClick:u,isPositionAbsolute:!1,size:"REGULAR"})):null},ae=t(8403),se=t(11642);function ce(){var e=o()(["\n  query PostNoteMissingNotificationQuery($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    post(id: $postId) {\n      id\n      privateNotes {\n        id\n      }\n      content(postMeteringOptions: $postMeteringOptions) {\n        bodyModel {\n          paragraphs {\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return ce=function(){return e},e}function ue(){var e=o()(["\n  fragment PostNoteMissingNotification_post on Post {\n    id\n  }\n"]);return ue=function(){return e},e}var de=function(e){var n,t,r,o,l,s=e.post,c=(0,q.v9)((function(e){return e.navigation.referrer})),u=(0,ie.TH)().hash,m=(0,ae.G1)(),p=(0,ae.PM)(),f=(0,X.useLazyQuery)(me,{variables:{postId:null==s?void 0:s.id,postMeteringOptions:{referrer:c,sk:m,source:p}},ssr:!1}),v=a()(f,2),g=v[0],E=v[1],h=E.called,x=E.loading,b=E.error,y=E.data,k=null==u||null===(n=u.replace("#",""))||void 0===n?void 0:n.split("-"),S=a()(k,2),w=S[0],P=S[1],_=(null!=y?y:{}).post,N=null==_||null===(t=_.privateNotes)||void 0===t?void 0:t.find((function(e){return(null==e?void 0:e.id)===P})),C=null!==(r=null==_||null===(o=_.content)||void 0===o||null===(l=o.bodyModel)||void 0===l?void 0:l.paragraphs)&&void 0!==r?r:[],T=new Set(C.map((function(e){return e.name})).filter(se.b)),F=!!N&&T.has(w),I=(0,oe.O)(!!P&&!F),L=a()(I,3),O=L[0],B=L[1],R=L[2];return i.useEffect((function(){P&&!F?B():R()}),[F]),!h&&P&&g(),x||b||!O?null:i.createElement(d.x,{marginTop:"64px"},i.createElement(le,{onHide:R},"The note you're looking for was deleted"))},me=((0,u.Ps)(ue()),(0,u.Ps)(ce())),pe=t(76532),fe=function(e){var n,t=e.meteringInfo,r=e.post,o=(0,q.p9)((function(e){return e.config.isAmp})),l=(0,pe.H)(),a=l.value,s=l.loading,c=(null==a?void 0:a.id)===(null===(n=r.creator)||void 0===n?void 0:n.id);return i.createElement(L.M,{columns:8,gutter:!1,padding:{xs:"0 8px 24px 8px",sm:"0 8px 24px 8px",md:"0 16px",lg:"0 16px",xl:"0 16px"}},i.createElement(de,{post:r}),c&&i.createElement(ee,{viewer:a,loading:s}),r.isNewsletter&&!!r.collection&&i.createElement(te,{collection:r.collection}),!!r.isLocked&&!!t&&i.createElement(G.rh,{meteringInfo:t,post:r}),r.audioVersionUrl&&!o&&i.createElement(z,{post:r}))}},75988:(e,n,t)=>{"use strict";t.d(n,{Y:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNextFiveStories_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}},56164:(e,n,t)=>{"use strict";t.d(n,{h:()=>T});var i=t(67154),r=t.n(i),o=t(63038),l=t.n(o),a=t(28655),s=t.n(a),c=t(71439),u=t(67294),d=t(12341),m=t(75341),p=t(88096),f=t(54741),v=t(68519),g=t(19856),E=t(50077),h=t(53976),x=t(51512),b=t(36891),y=t(27108);function k(){var e=s()(["\n  query PostNextFiveStoriesUser($id: ID!, $from: String, $limit: PaginationLimit = 5) {\n    publisher: user(id: $id) {\n      ...PostNextFiveStories_Publisher\n    }\n  }\n  ","\n"]);return k=function(){return e},e}function S(){var e=s()(["\n  query PostNextFiveStoriesCollection($id: ID!, $from: String, $limit: PaginationLimit = 5) {\n    publisher: collection(id: $id) {\n      ...PostNextFiveStories_Publisher\n    }\n  }\n  ","\n"]);return S=function(){return e},e}function w(){var e=s()(["\n  fragment PostNextFiveStories_Publisher on Publisher {\n    __typename\n    id\n    homepagePostsConnection(paging: {limit: $limit, from: $from}) {\n      posts {\n        ...ExpandablePost_post\n      }\n    }\n    ...CardByline_publisher\n  }\n  ","\n  ","\n"]);return w=function(){return e},e}var P=(0,c.Ps)(w(),E.Gk,g.bj),_=(0,c.Ps)(S(),P),N=(0,c.Ps)(k(),P),C=function(e){var n,t,i,o=e.post,a=e.rootMargin,s=e.target,c=e.showHighDensityPreview,g=(0,m.SK)(),E=!!(0,h.VB)({name:"enable_post_page_write_cta",placeholder:!1}),y=(null===(n=o.collection)||void 0===n?void 0:n.id)||"",k=(null===(t=o.creator)||void 0===t?void 0:t.id)||"",S=y||k,w=function(e){var n=e.firstPublishedAt,t=e.pinnedAt;return e.collection?t?"P".concat(t):"L".concat(n):"".concat(n)}(o),P=y?_:N,C={id:S,from:w},T=(0,f.N)(P,{variables:C}),F=l()(T,2),I=F[0],L=F[1],O=L.called,B=L.loading,R=L.error,A=L.data,M=(A=void 0===A?{publisher:void 0}:A).publisher;if((0,b.S)({onIntersect:I,target:s,disconnect:function(){return O},rootMargin:a},[O]),!O||B||R||!M)return null;var D=null==M||null===(i=M.homepagePostsConnection)||void 0===i?void 0:i.posts;if(!M||!D)return null;var U="Collection"===M.__typename,V=E&&D.length>=2;return u.createElement(u.Fragment,null,D.map((function(e,n){var t={publisher:M,post:e,hideAuthor:!U,isFirst:0===n,includeBottomDivider:V&&0===n||n===D.length-1,index:n,excludeMargin:V&&1===n,isMediumApp:g},i=V&&1===n?u.createElement(x.cW,{source:{name:"post-page-footer-cta-write"}},u.createElement(p.B,{optimizelyFeature:"post-start-writing",padding:"20px"})):u.createElement(u.Fragment,null);return u.createElement("span",{key:e.id},i,g?u.createElement(d.G,r()({},t,{showBylinePublisherInfo:!0,showHighDensityPreview:c})):u.createElement(v.m,r()({},t,{showBylinePublisherInfo:!0,showHighDensityPreview:c})))})))},T=function(e){var n=e.post,t=e.rootMargin,i=e.target,r=e.showHighDensityPreview,o=void 0!==r&&r,a=u.useState(!1),s=l()(a,2),c=s[0],d=s[1];return c||y.V6.on("load",(function(){return d(!0)})),c?u.createElement(C,{post:n,target:i,rootMargin:t,showHighDensityPreview:o}):null}},65340:(e,n,t)=>{"use strict";t.d(n,{D:()=>b,d:()=>y});var i=t(67154),r=t.n(i),o=t(28655),l=t.n(o),a=t(71439),s=t(67294),c=t(12291),u=t(47875),d=t(61889),m=t(42933),p=t(98462),f=t(82318),v=t(37278),g=t(15699),E=t(90038),h=t(27952);function x(){var e=l()(["\n  fragment PostRecircItemV2_post on Post {\n    __typename\n    id\n    title\n    mediumUrl\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    ...PostByline_post\n    ...PostPresentationTracker_post\n  }\n  ","\n  ","\n"]);return x=function(){return e},e}var b=(0,a.Ps)(x(),u.H,g.h),y=(0,c.$j)((function(e){return{defaultImages:e.config.defaultImages}}))((function(e){var n,t=e.post,i=e.defaultImages,o="SuggestedPost"===t.__typename?null==t?void 0:t.post:t;if(!o)return null;var l,a,c,x,b=o.title,y=o.previewImage,k=null==i||null===(n=i.postPreviewImage)||void 0===n?void 0:n.imageId,S=(c=(l={id:(null==y?void 0:y.id)||k,focusPercentX:null==y?void 0:y.focusPercentX,focusPercentY:null==y?void 0:y.focusPercentY}).focusPercentX,x=l.focusPercentY,(a=l.id)?s.createElement(d.F,{miroId:a,freezeGifs:!1,focusPercentX:c,focusPercentY:x,strategy:E._S.Crop,width:70,height:70,otherWidths:[48,70],expectedWidth:70,rules:[{minWidth:{xs:"48px",sm:"48px",md:"48px",lg:"70px",xl:"70px"},minHeight:{xs:"48px",sm:"48px",md:"48px",lg:"70px",xl:"70px"}}]}):null);return s.createElement(g.o,{post:o,presentationContext:"PLACEMENT"},s.createElement(m.x,{display:"flex",justifyContent:"space-between"},s.createElement(m.x,{flexShrink:"1",xs:{marginRight:"16px"},sm:{marginRight:"16px"},md:{marginRight:"16px"}},s.createElement(m.x,{paddingBottom:"8px"},s.createElement(v.X6,{scale:{xs:"XXS",sm:"XXS",md:"XXS",lg:"XS",xl:"XS"}},s.createElement(p.P,{href:(0,h.jVf)(o)},b))),s.createElement(u.G,{post:o,showBio:!1,scale:"S",detailScale:"S",showStar:!!o.isLocked,hideAvatar:!0,hideDescription:!0,noClamp:!0})),S&&s.createElement(m.x,r()({marginLeft:"12px",marginRight:"8px"},{sm:{marginLeft:"16px",marginRight:"0px"}}),s.createElement(f.r,{display:"block",href:(0,h.jVf)(o)},S))))}))},54741:(e,n,t)=>{"use strict";t.d(n,{y:()=>f,N:()=>v});var i=t(63038),r=t.n(i),o=t(46829),l=t(67294),a=t(68127),s=t(42933),c=t(53910),u=t(89375),d=t(37278),m=t(95760),p=t(51512);function f(e){var n=e.posts,t=e.sourceName,i=l.useRef(null),r=(0,m.Av)();return l.useEffect((function(){r.event("experiment.eligible",{experimentId:"57b820b82d68"})}),[]),0===n.length?null:l.createElement(s.x,{margin:"32px 0",md:{marginBottom:"0px"},ref:i},l.createElement(s.x,{marginBottom:"32px",borderBottom:"BASE_LIGHTER",paddingBottom:"8px"},l.createElement(d.X6,{scale:"S"},"More From Medium")),l.createElement(c.T,{alignItems:"flex-start"},n.map((function(e,n){return l.createElement(u.P,{key:"recirc-".concat(n),size:{xs:12,sm:12,md:12,lg:4,xl:4}},l.createElement(p.cW,{source:{name:t,index:n}},l.createElement(a.c,{post:e,target:i})))}))))}function v(e,n){var t=(0,o.useLazyQuery)(e,n),i=r()(t,2),a=i[0],s=i[1];return[l.useCallback((function(e){!s.called&&e.isIntersecting&&a()}),[s]),s]}},82423:(e,n,t)=>{"use strict";t.d(n,{F:()=>L,R:()=>O});var i=t(28655),r=t.n(i),o=t(63038),l=t.n(o),a=t(71439),s=t(67294),c=t(37801),u=t(12423),d=t(75341),m=t(86948),p=t(47713),f=t(60519),v=t(79356),g=t(1506),E=t(74871),h=t(21356),x=t(71542),b=t(29043),y=t(72393),k=t(47552),S=t(76532),w=t(14071),P=t(62181),_=t(85677),N=t(42933),C=t(33914),T=t(51512),F=t(51064);function I(){var e=r()(["\n  fragment PostFooterActionsBar_post on Post {\n    id\n    visibility\n    isPublished\n    allowResponses\n    postResponses {\n      count\n    }\n    isLimitedState\n    creator {\n      id\n    }\n    collection {\n      id\n    }\n    ...BookmarkButton_post\n    ...MultiVote_post\n    ...SusiClickable_post\n    ...ManageSubmission_post\n    ...CollectionSubmission_post\n    ...SharePostButtons_post\n    ...CreatorActionOverflowPopover_post\n    ...PostFooterSocialPopover_post\n    ...OverflowMenuButtonWithNegativeSignal_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return I=function(){return e},e}var L=function(e){var n,t=e.post,i=e.useSocialPopover,r=e.shouldHideClapsText,o=void 0!==r&&r,a=s.useContext(y.f).openSidebar,u=(0,d.SK)(),m=!!(0,S.H)().value,g=t.isPublished,E=t.creator,P=t.collection,I="clap_footer",L={post:t,source:"post_actions_footer"},O=(0,F.O)(!1),B=l()(O,2),R=B[0],A=B[1],M=(null==t||null===(n=t.postResponses)||void 0===n?void 0:n.count)||null;return s.createElement(s.Fragment,null,R&&s.createElement(_.T,null),s.createElement(N.x,{display:"flex",justifyContent:"space-between",print:{display:"none"}},s.createElement(T.cW,{source:{name:"post_actions_footer"}},s.createElement(N.x,{display:"flex",flexDirection:"row",alignItems:"center"},s.createElement(N.x,{maxWidth:"155px"},s.createElement(x.e,null,s.createElement(h.S,{post:t,buttonStyle:u?"SUBTLE_MARGIN":"SUBTLE",hasDialog:!0,shouldShowResponsiveLabelText:!0,shouldHideClapsText:o,susiEntry:I})),s.createElement(x.s,null,s.createElement(h.S,{post:t,buttonStyle:u?"SUBTLE_MARGIN":"SUBTLE",hasDialog:!0,shouldHideClapsText:o,susiEntry:I}))),s.createElement(T.cW,{source:{name:"follow_footer",susiEntry:"follow_footer"}},s.createElement(N.x,{display:"flex",marginLeft:"24px"},s.createElement(b.h,{svgSize:u?"S":void 0,trackingData:{postId:t.id},responsesCount:M,allowResponses:t.allowResponses,isLimitedState:t.isLimitedState,handleClick:a||function(){},responsesCountColor:"DARKER",iconStylesOverride:{marginTop:u?"0px":"4px"},countStylesOverride:{marginLeft:"4px",marginTop:u?"0px":"5px"}}))))),s.createElement(N.x,{display:"flex",alignItems:"center"},g&&s.createElement(s.Fragment,null,i?s.createElement(v.$,L):s.createElement(w.U,L),s.createElement(N.x,{flexGrow:"0",margin:"0 6px 0 7px"},s.createElement(T.cW,{source:{name:"post_actions_footer"}},s.createElement(p.o,{post:t,susiEntry:"bookmark_footer"})))),t&&E&&!(u&&!m)&&s.createElement(k.b,{name:"enable_negative_signal",placeholder:function(){return s.createElement(f.Z,{creator:E,post:t,collection:P,showLoadingIndicator:A,isDismissDisabled:!0})}},(function(e){return e?s.createElement(C._,{tooltipText:"More",targetDistance:15},s.createElement(N.x,null,s.createElement(c.t,{post:t}))):s.createElement(C._,{tooltipText:"More",targetDistance:15},s.createElement(f.Z,{creator:E,post:t,collection:P,showLoadingIndicator:A,isDismissDisabled:!0}))})))))},O=(0,a.Ps)(I(),m.z,h.x,P.qU,E.En,g.x7,w.E,f.G,v.u,u.v)},92650:(e,n,t)=>{"use strict";t.d(n,{m:()=>O,a:()=>B});var i=t(28655),r=t.n(i),o=t(67154),l=t.n(o),a=t(63038),s=t.n(a),c=t(71439),u=t(67294),d=t(84783),m=t(28048),p=t(49925),f=t(76532),v=t(32589),g=t(10697),E=t(31001),h=t(11615),x=t(93258),b=t(42933),y=t(30027),k=t(82318),S=t(86021),w=t(37278),P=t(98024),_=t(77180),N=t(27108),C=t(67297),T=t(27952),F=t(61598);function I(){var e=r()(["\n  fragment PostFooterBylineAurora_post on Post {\n    id\n    creator {\n      name\n      username\n      bio\n      id\n      ...UserFollowButton_user\n      ...auroraHooks_publisher\n      ...userUrl_user\n      ...UserSubscribeButton_user\n    }\n    collection {\n      name\n      description\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...UserFollowButton_post\n    ...CollectionFollowButton_post\n    ...useShowAuthorNewsletterV3Promo_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return I=function(){return e},e}var L="follow_footer",O=function(e){var n=e.post,t=e.maxWidthSize,i=void 0===t?"inset":t,r=n.creator,o=n.collection,a=(0,C.v9)((function(e){return e.config.authDomain})),c=(0,C.v9)((function(e){return e.navigation.currentLocation})),m=(0,f.H)().value,E=(0,_.F)(),h=(0,v.Pd)(r).viewerEdge,F=u.useState(0),I=s()(F,2),O=I[0],B=I[1],R=O<=E.breakpoints.sm,A=R?2:1,M=function(){B(window.innerWidth)};u.useEffect((function(){return M(),N.V6.on("resize",M),function(){return N.V6.off("resize",M)}}),[]);var D="REGULAR",U={xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},V=(null==m?void 0:m.id)===(null==r?void 0:r.id)||R?void 0:"168px",H={display:"flex",justifyContent:"space-between",alignItems:"center"},j=(0,p.KW)(n.creator),W=o?(0,T.WGd)(o,c,a):r?(0,T.AWr)(r,a):"",z="More from ".concat(o?o.name:null==r?void 0:r.name),G=o?o.description:null==r?void 0:r.bio,X=null;r&&(X=m&&null!=h&&h.isBlocking?u.createElement(x.d,{buttonSize:D,targetUserId:r.id}):u.createElement(b.x,{display:"flex",marginLeft:"8px"},u.createElement(g.N,{creator:r,followButtonSize:D,post:n,susiEntry:L})));var $=o?u.createElement(d.Fp,{buttonSize:D,collection:o,post:n,susiEntry:L}):X;return u.createElement(b.x,{print:{display:"none"}},(null==r?void 0:r.name)&&(null==r?void 0:r.username)&&!j&&u.createElement(b.x,{paddingBottom:"30px"},u.createElement(y.P,{size:i},u.createElement(b.x,l()({},H,{borderTop:"BASE_LIGHTER",paddingTop:"33px"}),u.createElement(b.x,null,u.createElement(S.Lh,{scale:"S"},"Written by"),u.createElement(w.X6,{scale:U,clamp:A},u.createElement(k.r,{href:(0,T.AWr)(r,a)},r.name||r.username))),X),r.bio&&u.createElement(b.x,{paddingTop:"6px",paddingRight:V},u.createElement(P.F,{scale:"M"},r.bio)))),(o||j)&&u.createElement(b.x,{paddingTop:"32px",paddingBottom:"4px",backgroundColor:"BASE_LIGHT"},u.createElement(y.P,{size:i},u.createElement(b.x,H,u.createElement(w.X6,{scale:U,clamp:A},u.createElement(k.r,{href:W},z)),$),G&&u.createElement(b.x,{paddingTop:"5px",paddingRight:V},u.createElement(P.F,{scale:"M"},G)))))},B=(0,c.Ps)(I(),d.Iq,d.b3,F.nf,E.S$,E.sj,p.C5,F.$m,m.b,h.w)},68171:(e,n,t)=>{"use strict";t.d(n,{L:()=>p,R:()=>f});var i=t(28655),r=t.n(i),o=t(71439),l=t(67294),a=t(42933),s=t(55099),c=t(67297),u=t(27952),d=t(61598);function m(){var e=r()(["\n  fragment PostFooterCollectionButton_collection on Collection {\n    id\n    name\n    ...collectionUrl_collection\n  }\n  ","\n"]);return m=function(){return e},e}var p=function(e){var n=e.collection,t=(0,c.v9)((function(e){return e.config.authDomain})),i=(0,c.v9)((function(e){return e.navigation.currentLocation}));return l.createElement(l.Fragment,null,(null==n?void 0:n.name)&&l.createElement(a.x,{maxWidth:"100%",textAlign:"center"},l.createElement(s.z,{buttonStyle:"STRONG",href:(0,u.WGd)(n,i,t)},"Read more from ",n.name)))},f=(0,o.Ps)(m(),d.nf)},25537:(e,n,t)=>{"use strict";t.d(n,{o:()=>l});var i=t(76532),r=t(31235),o=t(67297);function l(){var e=(0,r.xg)(),n=(0,o.v9)((function(e){return e.client.hydrated})),t=(0,o.p9)((function(e){return e.session.isLoggedInCookie})),l=(0,i.H)().value,a=t||!!l,s=(0,o.p9)((function(e){return e.session.isSpoofed}));return!n&&e||!a&&!s}},54415:(e,n,t)=>{"use strict";t.d(n,{G:()=>l});var i=t(67294),r=t(73882),o=t(98281),l=function(e){var n=e.link,t=void 0!==n&&n,l=e.scale,a=void 0===l?"M":l,s=e.publisher,c=e.withHalo,u=void 0===c||c;switch(s.__typename){case"User":return i.createElement(o.Yt,{link:t,scale:a,user:s,withHalo:u});case"Collection":return i.createElement(r.v,{link:t,size:o.wC[a],collection:s});default:return null}}},97297:(e,n,t)=>{"use strict";t.d(n,{gp:()=>p,DX:()=>f,b5:()=>v});var i=t(28655),r=t.n(i),o=t(71439),l=t(67294),a=t(53976),s=t(82318),c=t(98024),u=t(27390),d=t(27952);function m(){var e=r()(["\n  fragment PublisherFollowingCount_publisher on Publisher {\n    __typename\n    id\n    ... on User {\n      socialStats {\n        followingCount\n        collectionFollowingCount\n      }\n      followedCollections\n      username\n    }\n  }\n"]);return m=function(){return e},e}var p=function(e){var n,t,i,r,o=(0,a.VB)({name:"enable_fix_follow_counts",placeholder:!1}),l=null!==(n="Collection"===e.__typename?0:(null===(t=e.socialStats)||void 0===t?void 0:t.followingCount)+e.followedCollections)&&void 0!==n?n:0;return o&&"User"===e.__typename&&(l=(null===(i=e.socialStats)||void 0===i?void 0:i.followingCount)+(null===(r=e.socialStats)||void 0===r?void 0:r.collectionFollowingCount)),{followingCount:l,isFollowingCountVisible:l>0}},f=function(e){var n,t=e.publisher,i=e.linkStyle,r=void 0===i?"SUBTLE":i,o=p(t),a=o.followingCount,m=o.isFollowingCountVisible,f="User"===t.__typename?(0,d.MzF)(null!==(n=t.username)&&void 0!==n?n:""):"",v=!!f;if(!m)return null;var g="".concat((0,u.pY)(a)," Following");return v?l.createElement(s.r,{linkStyle:r,href:f},g):l.createElement(c.F,{tag:"span",scale:"L",color:"DARKER"},g)},v=(0,o.Ps)(m())},78886:(e,n,t)=>{"use strict";t.d(n,{KL:()=>G,rF:()=>X,Lk:()=>$,eB:()=>Y,qy:()=>K,FB:()=>Z});var i=t(28655),r=t.n(i),o=t(59713),l=t.n(o),a=t(63038),s=t.n(a),c=t(46829),u=t(71439),d=t(67294),m=t(54023),p=t(54415),f=t(48955),v=t(97297),g=t(44935),E=t(94198),h=t(76532),x=t(68421),b=t(41832),y=t(82143),k=t(42933),S=t(82318),w=t(52862),P=t(80362),_=t(98024),N=t(18579),C=t(95760),T=t(51512),F=t(6688),I=t(19551),L=t(14391),O=t(67297),B=t(27390),R=t(27952),A=t(61598);function M(){var e=r()(["\n  query PublisherSidebarFollowsQuery($userId: ID!, $limit: Int) {\n    userFollows(userId: $userId, limit: $limit) {\n      ... on User {\n        hasDomain\n        ...UserMentionTooltip_user\n        ...PublisherSidebarFollows_followedEntity\n      }\n      ... on Collection {\n        ...CollectionTooltip_collection\n        ...PublisherSidebarFollows_followedEntity\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return M=function(){return e},e}function D(){var e=r()(["\n  fragment PublisherSidebarFollows_followedEntity on Publisher {\n    __typename\n    id\n    name\n    ...PublisherAvatar_publisher\n  }\n  ","\n"]);return D=function(){return e},e}function U(){var e=r()(["\n  fragment PublisherSidebarFollows_user on User {\n    id\n    name\n    username\n    ...PublisherFollowingCount_publisher\n    ...userUrl_user\n  }\n  ","\n  ","\n"]);return U=function(){return e},e}function V(){var e=r()(["\n  fragment PublisherSidebarFollows_customStyleSheet on CustomStyleSheet {\n    id\n    blogroll {\n      visibility\n    }\n  }\n"]);return V=function(){return e},e}function H(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?H(Object(t),!0).forEach((function(n){l()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var W,z=function(e){var n=e.entity,t=e.tag,i=void 0===t?"h4":t,r=(0,F.I)()([(0,N.n)({name:"detail",scale:"S",clamp:1,leadingTrim:!1,color:"LIGHTER"}),{wordBreak:"break-all"}]),o=(0,m.P)(n);return d.createElement(k.x,{marginBottom:"8px",paddingRight:"10px",tag:"span"},d.createElement(S.r,{href:o},d.createElement(w.$,{placement:"right",targetDistance:5,mouseEnterDelay:300,mouseLeaveDelay:400,noPortal:!1,disablePortalOverlay:!0,role:"tooltip",popoverRenderFn:function(){return"User"===n.__typename?d.createElement(b.K,{user:n}):d.createElement(g.L,{collection:n,buttonSize:"COMPACT",buttonStyleFn:function(e){return e?"OBVIOUS":"STRONG"}})}},d.createElement(i,{className:r},n.name))))},G=function(e){var n;return{isBlogrollInSidebar:(null==e||null===(n=e.blogroll)||void 0===n?void 0:n.visibility)===L.n$.BLOGROLL_VISIBILITY_SIDEBAR}},X=function(e){var n,t=null==e||null===(n=e.blogroll)||void 0===n?void 0:n.visibility,i=!t||t===L.n$.BLOGROLL_VISIBILITY_UNSET,r=t===L.n$.BLOGROLL_VISIBILITY_SIDEBAR;return{shouldShowBlogroll:!(!i&&!r||void 0===e)}},$=d.createContext({homepageUserId:null,postId:null,catalogId:null});!function(e){e[e.Initial=0]="Initial",e[e.Secondary=1]="Secondary",e[e.Dismissed=2]="Dismissed",e[e.Navigating=3]="Navigating",e[e.Updated=4]="Updated"}(W||(W={}));var Y=function(e){var n,t,i=e.publisher,r=e.isVisible,o=e.customStyleSheet,l=e.withBottomBorder,a=void 0!==l&&l,u=e.withTopBorder,m=void 0===u||u,f=e.publisherTag,g=(0,F.I)(),E=(0,h.H)().value,b=(0,O.p9)((function(e){return e.config.isAmp})),y=(0,R.MzF)(null!==(n=i.username)&&void 0!==n?n:""),w=d.useState(W.Initial),N=s()(w,2),A=N[0],M=N[1],D="User"===i.__typename&&i.id===(null==E?void 0:E.id),U=(null==o||null===(t=o.blogroll)||void 0===t?void 0:t.visibility)===L.n$.BLOGROLL_VISIBILITY_HIDDEN,V=X(o).shouldShowBlogroll,H=L.T3.BLOGROLL_ENABLE,G=V&&D&&!A&&!(null!=E&&E.dismissableFlags.includes(H)),Y=(0,C.Av)(),K=d.useContext($),Z=(0,I.g)({onPresentedFn:function(){return Y.event("sidebar.blogrollViewed",j(j({},K),{},{viewerIsAuthor:D}))}}),q=(0,c.useLazyQuery)(Q,{ssr:!1,variables:{userId:i.id,limit:5}}),J=s()(q,2),ee=J[0],ne=J[1],te=ne.called,ie=ne.loading,re=ne.error,oe=ne.data,le=(oe=void 0===oe?{userFollows:void 0}:oe).userFollows,ae=(0,v.gp)(i).followingCount,se=d.useCallback((function(e){return function(){return d.createElement(k.x,{minWidth:"240px",padding:"16px"},d.createElement(_.F,{scale:"S",color:"WHITE"},"Blogrolls help your readers discover writers you follow. Writers who have published most recently show up at the top."),d.createElement(k.x,{marginTop:"8px"},d.createElement(_.F,{scale:"S",color:"WHITE"},G&&d.createElement(S.r,{onClick:function(){var n,t;n=W.Dismissed,t=x.$.DISMISSED,M(n),e(t)}},d.createElement("span",{className:g(P.u)},"Got it")))))}}),[A]);return!V||U||b?null:te?ie||re||!le||!le.length||ae<5?null:d.createElement(T.cW,{source:{name:"blogrolls_sidebar",postId:K.postId||void 0,catalogId:K.catalogId||void 0}},d.createElement(k.x,{ref:Z,position:"relative",borderTop:m?"BASE_LIGHTER":"NONE",borderBottom:a?"NONE":void 0},d.createElement(k.x,{marginTop:"32px",marginBottom:"32px"},d.createElement(x.o,{flag:H,isVisible:r&&G,targetDistance:15,renderFn:se},d.createElement("span",{className:g({textTransform:"uppercase",marginBottom:"8px"})},d.createElement(_.F,{scale:"S",tag:"span"},"".concat(i.name," Follows"))),d.createElement("ul",{className:g({marginTop:"8px"})},le.map((function(e){return d.createElement("li",{className:g({display:"grid",gridTemplateColumns:"auto 1fr auto"}),key:null==e?void 0:e.id},d.createElement(k.x,{paddingRight:"12px"},d.createElement(p.G,{link:!0,publisher:e,scale:"XXXS"})),d.createElement("section",{className:g({wordBreak:"break-word"})},d.createElement(z,{entity:e,tag:f})))}))),d.createElement(_.F,{scale:"S"},d.createElement(S.r,{linkStyle:"SUBTLE",href:y},"See all (".concat((0,B.rR)(ae),")"))))))):(ee(),null)},K=(0,u.Ps)(V()),Z=(0,u.Ps)(U(),v.b5,A.$m),q=(0,u.Ps)(D(),f.v),Q=(0,u.Ps)(M(),y.O,E.g,q)},34793:(e,n,t)=>{"use strict";t.d(n,{$:()=>d,G:()=>m});var i=t(28655),r=t.n(i),o=t(71439),l=t(67294),a=t(12598),s=t(42933),c=t(90038);function u(){var e=r()(["\n  fragment SidebarProfilePic_user on User {\n    id\n    imageId\n  }\n"]);return u=function(){return e},e}var d=function(e){var n=e.user;return n.imageId?l.createElement(s.x,{marginBottom:"20px",maxHeight:"131px",maxWidth:"131px",overflow:"hidden"},l.createElement(a.E,{src:(0,c.W6)({miroId:n.imageId,width:131,height:131,strategy:c._S.Crop}),width:131})):null},m=(0,o.Ps)(u())},44935:(e,n,t)=>{"use strict";t.d(n,{L:()=>c});var i=t(67294),r=t(73882),o=t(84783),l=t(42933),a=t(37278),s=t(98024),c=function(e){var n=e.collection,t=e.buttonSize,c=e.buttonStyleFn,u=n.name,d=n.description;return i.createElement(l.x,{padding:"15px",display:"flex",flexDirection:"column",width:"300px"},i.createElement(l.x,{display:"flex",flexDirection:"row",justifyContent:"space-between",whiteSpace:"normal",borderBottom:"BASE_LIGHTER",paddingBottom:"10px",marginBottom:"10px"},i.createElement(l.x,{display:"flex",flexDirection:"column",paddingRight:"5px"},i.createElement(a.X6,{scale:"S"},u),i.createElement(s.F,{scale:"S"},d)),i.createElement(l.x,null,i.createElement(r.v,{collection:n,link:!0}))),i.createElement(l.x,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},i.createElement(s.F,{scale:"M"},"Followed by ",n.subscriberCount," people"),i.createElement(o.Fp,{collection:n,simpleButton:!0,buttonSize:t,buttonStyleFn:c,susiEntry:"follow_card"})))}},51684:(e,n,t)=>{"use strict";t.d(n,{ZR:()=>f,HX:()=>g,b2:()=>E,hE:()=>h});var i=t(59713),r=t.n(i),o=t(67294),l=t(28859),a=t(43689),s=t(30027),c=t(42933),u=t(6688),d=t(27108),m=t(89349),p=t(21146),f=131,v=function(e){return{pointerEvents:e?"auto":"none"}},g=function(e){var n=e.children,t=e.disableTransition,i=e.isFixed,d=e.scrollableRef,p=e.sidebarRef,g=e.testId,E=e.topOffset,h=e.visible,x=e.fixedWidth,b=e.extraWide,y=void 0!==b&&b,k=(0,u.I)(),S=function(e){var n,t,i,s=e.isFixed,c=void 0===s||s,u=e.disableTransition,d=void 0!==u&&u,p=e.scrollableRef,f=e.topOffset,v=e.visible,g=e.fixedWidth,E=e.extraWide,h=void 0!==E&&E,x=(i=null===(n=o.useContext(l.u6).watchedBounds.get("header"))||void 0===n||null===(t=n.ref)||void 0===t?void 0:t.current)?i.offsetTop+i.offsetHeight+64:a.Je+54+40;return function(e){return function(n){var t,i=h?"@media all and (max-width: 1240px)":(0,m.uc)(n,e,n.grid.xStep*n.grid.marginSteps.lg,p&&"current"in p?p.current:null),o=void 0===f?x:f;return t={opacity:v?1:0,pointerEvents:"none",position:c?"fixed":"absolute",willChange:"opacity, transform",width:g?"".concat(g,"px"):"100%",transform:"translateY(".concat(o,"px)"),top:0},r()(t,(0,m.nk)("no-preference"),{transition:d?"opacity 0s":"opacity 200ms"}),r()(t,i,{display:"none"}),t}}}({isFixed:i,scrollableRef:d,topOffset:E,visible:h,disableTransition:t,fixedWidth:x,extraWide:y}),w=y?197:f;return o.createElement("div",{className:k(S(w)),"data-test-id":g},o.createElement(s.P,{size:"outset"},o.createElement(c.x,{display:"flex",flexDirection:"column",width:"".concat(w,"px"),ref:p},o.createElement("div",{className:k(v(h))},n))))},E=function(e,n,t,i){if(!e)return!1;var r=i.threshold||10,o=Array.from(n.values()).filter((function(e){var n,i=e.ref,r=e.opts;return t.includes(null!==(n=r.type)&&void 0!==n?n:"")&&!!i.current})).map((function(e){var n=e.ref,t=e.opts,i=t&&t.offset,r=(0,p.L6)(n.current);return(0,p.Dd)(r,i)})),l=(0,p.L6)(e),a=0===l.width;return!o.some((function(e){return(0,p.kK)(e,l,r)}))&&!a},h=function(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t?"scroll_throttled":"scroll";return function(){var t=(0,d.jC)(null!=n?n:void 0);return t.on(i,e),t.on("scroll_end",e),t.on("resize_throttled",e),function(){t.off(i,e),t.off("scroll_end",e),t.off("resize_throttled",e)}}}},93258:(e,n,t)=>{"use strict";t.d(n,{d:()=>f});var i=t(63038),r=t.n(i),o=t(67294),l=t(885),a=t(76532),s=t(324),c=t(55099),u=t(77180),d=t(1072),m=t(51064),p=t(534),f=function(e){var n=e.buttonSize,t=e.targetUserId,i=(0,m.O)(!1),f=r()(i,3),v=f[0],g=f[1],E=f[2],h=(0,u.F)(),x=(0,s.Uo)().baseTheme,b=(0,p.q3)(h,x),y=(0,a.H)().value;return y?o.createElement(d.f,{theme:b},o.createElement(l.E,{targetUserId:t,viewerId:y&&y.id},(function(e){var t=e.mutate;return o.createElement(c.z,{buttonStyle:v?"SUBTLE":"ERROR",onClick:t,size:n||"REGULAR",onMouseEnter:g,onMouseLeave:E},v?"Unblock":"Blocked")}))):null}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/45002.d12ac37f.chunk.js.map