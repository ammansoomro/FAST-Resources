(self.webpackChunklite=self.webpackChunklite||[]).push([[56590],{84033:(e,n,i)=>{"use strict";i.d(n,{MA:()=>o,Zh:()=>r,jM:()=>u});var t=i(63038),a=i.n(t),d=i(67294),l={mutedAuthorIds:[],setMutedAuthorIds:function(){},mutedPubIds:[],setMutedPubIds:function(){},dismissedPostIds:[],setDismissedPostIds:function(){},isMutingFromHomeFeed:!0,seeLessPostIds:[],setSeeLessPostIds:function(){}},o=function(e,n,i,t,a){return e.filter((function(e){var d,l,o,s,r,u;return!(n.indexOf(null===(d=e.post)||void 0===d||null===(l=d.creator)||void 0===l?void 0:l.id)>-1||i.indexOf(null===(o=e.post)||void 0===o||null===(s=o.collection)||void 0===s?void 0:s.id)>-1||t.indexOf(null===(r=e.post)||void 0===r?void 0:r.id)>-1||a.indexOf(null===(u=e.post)||void 0===u?void 0:u.id)>-1)}))},s=d.createContext(l),r=function(e){var n=e.children,i=d.useState(l.mutedAuthorIds),t=a()(i,2),o=t[0],r=t[1],u=d.useState(l.mutedPubIds),m=a()(u,2),c=m[0],k=m[1],v=d.useState(l.dismissedPostIds),p=a()(v,2),N=p[0],S=p[1],F=d.useState(l.seeLessPostIds),f=a()(F,2),g=f[0],I=f[1],P=l.isMutingFromHomeFeed;return d.createElement(s.Provider,{value:{mutedAuthorIds:o,setMutedAuthorIds:r,mutedPubIds:c,setMutedPubIds:k,dismissedPostIds:N,setDismissedPostIds:S,isMutingFromHomeFeed:P,seeLessPostIds:g,setSeeLessPostIds:I}},n)},u=function(){return d.useContext(s)}},37801:(e,n,i)=>{"use strict";i.d(n,{t:()=>Z});var t=i(67294),a=i(75341),d=i(60519),l=i(76532),o=i(73891),s=i(68421),r=i(19464),u=i(14391),m=i(319),c=i.n(m),k=i(59713),v=i.n(k),p=i(63038),N=i.n(p),S=i(5977),F=i(84033),f=i(97292),g=i(30570),I=i(36511),P=i(32262),b=i(29169),E=i(42933),y=i(82318),h=i(80362),w=i(95760),C=i(51512),A=i(85277),M=i(8403),_=i(67297),D=i(93394);function x(){return(x=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var O=t.createElement("path",{d:"M6.2 16.8A7.5 7.5 0 1 0 16.8 6.2 7.5 7.5 0 0 0 6.2 16.8z",stroke:"#000",strokeWidth:2,strokeLinecap:"round"}),T=t.createElement("path",{d:"M6 6l11 11",stroke:"#000",strokeWidth:2});const V=function(e){return t.createElement("svg",x({width:19,height:19,viewBox:"0 0 23 23",fill:"none"},e),O,T)};var U=i(46829),j=i(64235),L=i(32589),B=function(e){var n=e.creatorId,i=e.viewerId,a=e.muteAuthor,d=e.hidePopover,l=e.eventData,o=e.isActiveExpandedPost,s=(0,C.pK)(),r=(0,w.Av)(),u={id:n||""},m=(0,L.Pd)(u).viewerEdge,k=!(null==m||!m.isFollowing),v=!(null==m||!m.isMuting),p=(0,g.sK)().clearExpandedState,f=(0,S.k6)(),I=(0,F.jM)(),b=I.mutedAuthorIds,E=I.setMutedAuthorIds,h=I.isMutingFromHomeFeed,A=t.useCallback((function(e){E([].concat(c()(b),[e]))}),[b]),M=(0,U.useMutation)(j.g,{variables:{targetUserId:n||""},optimisticResponse:{unfollowUser:{__typename:"User",id:n||"",viewerEdge:{__typename:"UserViewerEdge",id:"userId:".concat(n,"-viewerId:").concat(i),isFollowing:!1}}}}),_=N()(M,1)[0];return n?k?t.createElement(P.Sl,null,t.createElement(y.r,{onClick:function(){r.event("user.unfollowed",{targetUserId:n,source:s}),_(),d()}},"Unfollow this author")):v?null:t.createElement(P.Sl,null,t.createElement(y.r,{onClick:function(){r.event("user.muted",l),a(),h&&(A(n),o&&(p(),f.goBack())),d()}},"Mute this author")):null},H=i(84783),R=function(e){var n=e.collectionId,i=e.viewerId,a=e.hidePopover,d=e.mutePub,l=e.eventData,s=e.isActiveExpandedPost,r=(0,w.Av)(),u=(0,C.pK)(),m={id:n||""},k=(0,o.gY)(m).viewerEdge,v=!(null==k||!k.isFollowing),p=!(null==k||!k.isMuting),N=(0,H.MT)(n||"",i),f=(0,F.jM)(),I=f.mutedPubIds,b=f.setMutedPubIds,E=f.isMutingFromHomeFeed,h=(0,g.sK)().clearExpandedState,A=(0,S.k6)(),M=t.useCallback((function(e){b([].concat(c()(I),[e]))}),[I]);return n?v?t.createElement(P.Sl,null,t.createElement(y.r,{onClick:function(){r.event("collection.unfollowed",{collectionId:n,followSource:u}),N(),a()}},"Unfollow this publication")):p?null:t.createElement(P.Sl,null,t.createElement(y.r,{onClick:function(){r.event("collection.muted",l),d(),E&&(M(n),s&&(h(),A.goBack())),a()}},"Mute this publication")):null};function K(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function G(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?K(Object(i),!0).forEach((function(n){v()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):K(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var J=function(e){var n=e.postId,i=e.creatorId,a=e.collectionId,d=e.isActiveExpandedPost,l=e.setDismissedPostId,o=(0,I.r)().viewerId,s=t.useState(!1),r=N()(s,2),u=r[0],m=r[1],k=(0,f.l)(i,a),v=k.muteAuthor,p=k.mutePub,x=(0,g.sK)().clearExpandedState,O=(0,S.k6)(),T=(0,F.jM)(),U=T.seeLessPostIds,j=T.setSeeLessPostIds,L=T.isMutingFromHomeFeed,H=(0,A.w)(),K=(0,w.Av)(),J=(0,C.pK)(),Z=(0,M.PM)(),z=(0,_.v9)((function(e){return e.navigation.referrer})),W=(0,_.v9)((function(e){return e.navigation.currentLocation})),Y={postId:n,location:W,referrer:z,source:J,referrerSource:Z},X=t.useRef(null),q=function(){null!==X.current&&window.clearTimeout(X.current)},Q=function(){X.current=window.setTimeout((function(){K.event("post.see_less",G({userId:o,collection:a},Y))}),5e3),L&&(j([].concat(c()(U),[n])),d&&(x(),O.goBack()),l&&l(n)),H({toastStyle:"USER_NEGATIVE_SIGNAL",extraParams:{onClickUndo:q}}),m(!1)},$=t.useCallback((function(){return t.createElement(P.mX,null,t.createElement(E.x,{borderBottom:"BASE_LIGHTER",paddingBottom:"4px",marginBottom:"4px"},t.createElement(P.Sl,null,t.createElement(y.r,{onClick:Q,"aria-label":"Show less like this"},t.createElement(E.x,{display:"flex",flexDirection:"row",alignItems:"center",borderBottom:void 0,ariaHidden:"true"},t.createElement(E.x,{marginRight:"4px"},t.createElement(V,null)),t.createElement(E.x,null,"Show less like this"))))),t.createElement(B,{creatorId:i,viewerId:o,muteAuthor:v,isActiveExpandedPost:d,hidePopover:function(){return m(!1)},eventData:G({targetUserId:i},Y)}),a&&t.createElement(R,{collectionId:a,viewerId:o,mutePub:p,isActiveExpandedPost:d,hidePopover:function(){return m(!1)},eventData:G({collection:a},Y)}),t.createElement(b.z,{postId:n,viewerId:o,targetUserId:i||"",shouldShowShortenedCopy:!0,hidePopover:function(){return m(!1)}}))}),[u,U]);return i?t.createElement(h.J,{isVisible:u,hide:function(){return m(!1)},popoverRenderFn:$},t.createElement(y.r,{onClick:function(){return m(!0)},"aria-label":"More options"},t.createElement(D.Z,null))):null},Z=function(e){var n=e.post,i=e.index,m=e.isActiveExpandedPost,c=e.setDismissedPostId,k=n.creator,v=n.collection,p=(0,l.H)().value,N=(0,o.gY)(v).viewerEdge,S=!(null==N||!N.isEditor),F=(null==p?void 0:p.id)===(null==k?void 0:k.id),f=!(0,a.SK)()||(null==p?void 0:p.dismissableFlags.includes(u.T3.BETA_FIRST_USE_CTA));return k?S||F?t.createElement(r.B,null,(function(e){var i=e.show;return t.createElement(d.Z,{post:n,creator:k,collection:v,showLoadingIndicator:i})})):0===i&&f?t.createElement(s.o,{flag:u.T3.USER_SIGNAL_MENU,text:"Improve your recommendations by telling us which stories you're not interested in.",dismissText:"OK",placement:"top"},t.createElement(J,{postId:n.id,creatorId:k.id,collectionId:null==v?void 0:v.id,isActiveExpandedPost:m,setDismissedPostId:c})):t.createElement(J,{postId:n.id,creatorId:k.id,collectionId:null==v?void 0:v.id,isActiveExpandedPost:m,setDismissedPostId:c}):null}},44346:(e,n,i)=>{"use strict";i.d(n,{S:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"subscribersCount"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isAuthorNewsletter"}}]}}]}},77329:(e,n,i)=>{"use strict";i.d(n,{G:()=>u});var t=i(319),a=i.n(t),d=i(28233),l=i(10414),o=i(35963),s=i(76992),r=i(44346),u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CreatorActionOverflowPopover_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedByCreatorAt"}},{kind:"Field",name:{kind:"Name",value:"curationEligibleAt"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"responseDistribution"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsPinnedInContext_post"}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MutePopoverOptions_creator"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MutePopoverOptions_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"}}]}}].concat(a()(d.x.definitions),a()(l.m.definitions),a()(o.C.definitions),a()(l.G.definitions),a()(s.JP.definitions),a()(r.S.definitions))}},76992:(e,n,i)=>{"use strict";i.d(n,{JP:()=>l});var t=i(319),a=i.n(t),d=i(36896),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ClapMutation_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVoteCount_post"}}]}}].concat(a()(d.U.definitions))};[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ClapMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numClaps"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clap"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}}},{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"numClaps"},value:{kind:"Variable",name:{kind:"Name",value:"numClaps"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_viewerEdge"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_post"}}]}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"ClapMutation_viewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}}]}}]),a()(l.definitions))},36896:(e,n,i)=>{"use strict";i.d(n,{U:()=>a});var t=i(319),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MultiVoteCount_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostVotersNetwork_post"}}]}}].concat(i.n(t)()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostVotersNetwork_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"voterCount"}},{kind:"Field",name:{kind:"Name",value:"recommenders"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]))}},35963:(e,n,i)=>{"use strict";i.d(n,{C:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"auroraHooks_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuroraEligible"}},{kind:"Field",name:{kind:"Name",value:"isAuroraVisible"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuroraVisible"}}]}}]}}]}},28233:(e,n,i)=>{"use strict";i.d(n,{x:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useIsPinnedInContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedByCreatorAt"}}]}}]}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/56590.76c8b773.chunk.js.map