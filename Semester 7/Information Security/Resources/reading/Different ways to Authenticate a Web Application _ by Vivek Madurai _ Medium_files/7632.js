(self.webpackChunklite=self.webpackChunklite||[]).push([[7632],{54522:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{d:"M7 .5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13zM6 9a.5.5 0 1 1-1 0V5a.5.5 0 1 1 1 0v4zm3 0a.5.5 0 1 1-1 0V5a.5.5 0 1 1 1 0v4z",fill:"#292929"});const i=function(e){return r.createElement("svg",a({width:20,height:20,viewBox:"0 0 14 14",fill:"none"},e),o)}},39378:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{d:"M7 .5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13zm2.28 6.92l-3 2A.5.5 0 0 1 5.5 9V5a.5.5 0 0 1 .78-.42l3 2a.5.5 0 0 1 0 .84z",fill:"#292929"});const i=function(e){return r.createElement("svg",a({width:20,height:20,viewBox:"0 0 14 14",fill:"none"},e),o)}},56308:(e,t,n)=>{"use strict";n.d(t,{bz:()=>U,rz:()=>H,Fm:()=>W,ik:()=>Q});var r=n(28655),a=n.n(r),o=n(59713),i=n.n(o),l=n(71439),c=n(67294),s=n(28859),u=n(10515),V=n(51736),d=n(319),f=n.n(d),p=n(7647),g=n(95064),h=n(30027),m=n(6688),v=n(14391),y=n(65441);function b(){var e=a()(["\n  fragment ParagraphLayoutGrouping_privateNote on Note {\n    ...ParagraphStyleGrouping_privateNote\n  }\n  ","\n"]);return b=function(){return e},e}function E(){var e=a()(["\n  fragment ParagraphLayoutGrouping_highlight on Quote {\n    ...ParagraphStyleGrouping_highlight\n  }\n  ","\n"]);return E=function(){return e},e}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={clear:"both"},P={clear:"both",width:"100%"},O=function(e){var t,n,r=e.layoutGroup,a=e.postBodyInserts,o=e.isEmbedded,i=(0,m.I)(),l=r.styleGroups[0].paragraphViewModels[0].richTextStyle,s=r.styleGroups.map((function(e,t){var n=c.createElement(g.ZQ,{key:t,styleGroup:e,postBodyInserts:a,richTextStyle:l});return"FULL_PAGE"===l&&t<3||"INLINE"===l?c.createElement(p.R,{key:t},n):n}));if((0,y.jH)(l)||o||"INLINE"===l)return c.createElement(c.Fragment,null,s);switch(r.effectiveLayout){case"OUTSET_CENTER":case"OUTSET_ROW":return c.createElement("div",{className:i(w)},c.createElement(h.P,{size:{xs:"full",sm:"full",md:"full",lg:"outset",xl:"outset"}},s));case"FULL_WIDTH":return c.createElement("div",{className:i(P)},s);default:return"FULL_PAGE"===l?c.createElement(h.P,{size:"inset"},s):c.createElement("div",{className:i((t=r.effectiveLayout,n={boxSizing:"border-box",margin:"0 auto",width:"100%"},"INSET_CENTER"===t?x(x({},n),{},{maxWidth:"700px",padding:"0 1.25em"}):n))},s)}},I=c.memo(O),N=(0,l.Ps)(E(),g.PL),S=(0,l.Ps)(b(),g.NR),k=n(1072),T=n(77180),_=n(80637),B={":after":{display:"block",content:'""',clear:"both"}},R=n(90038),L=n(534);function M(){var e=a()(["\n  fragment PostBodySection_privateNote on Note {\n    ...ParagraphLayoutGrouping_privateNote\n  }\n  ","\n"]);return M=function(){return e},e}function F(){var e=a()(["\n  fragment PostBodySection_highlight on Quote {\n    ...ParagraphLayoutGrouping_highlight\n  }\n  ","\n"]);return F=function(){return e},e}function j(){var e=a()(["\n  fragment PostBodySection_paragraph on Paragraph {\n    name\n    ...PostBodyParagraph_paragraph\n  }\n  ","\n"]);return j=function(){return e},e}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(){return{display:"table-cell",paddingBottom:"32px",verticalAlign:"bottom"}};function D(e){var t,n,r,a,o=e.bgImage,i=e.children,l=e.isFullPage,u=e.paragraphName,V=(0,m.I)(),d=(0,T.F)();return o&&o.id&&l?c.createElement(s.TA,{name:u,type:"bgimage"},c.createElement("div",{className:V((t=o,n=t.id,r=t.originalWidth,a=t.originalHeight,function(){var e=[400,600,800,1e3,1200,1400,1600,1800,2e3],t={miroId:n,strategy:R._S.Resample,verticalGradient:{start:29,end:81,opacity:40}},o=e.reduce((function(n,o,i){var l=(0,R.W6)(z(z({},t),{},{width:o,height:o/r*a}));return i===e.length-1?(n.backgroundImage="url(".concat(l,")"),n):(n["@media (min-width: ".concat(o,"px)")]={backgroundImage:"url(".concat(l,")")},n)}),{});return z({backgroundColor:"rgba(0, 0, 0, 0.9)",backgroundPosition:"50% 50%",backgroundSize:"cover",display:"table",minHeight:"100vh",width:"100%"},o)}))},c.createElement("div",{className:V(G)},c.createElement(k.f,{theme:(0,L.GV)(d)},i)))):i}var U=function(e){var t=e.paragraphViewModels,n=e.postBodyInserts,r=e.section,a=c.useContext(u.M),o=(0,m.I)();if(0===t.length)return null;var l,s=function(e){var t=[],n=[];e.forEach((function(e){var r=function(e,t){switch(t){case v.ms.INSET_LEFT:case v.ms.OUTSET_LEFT:return"IMG"===e||"IFRAME"===e?v.ms.INSET_CENTER:t;case v.ms.OUTSET_ROW_CONTINUE:return v.ms.OUTSET_ROW;default:return t||v.ms.INSET_CENTER}}(e.paragraphStyle,e.paragraph.layout),a=t[t.length-1];if(a&&a.effectiveLayout===r)n.push(e);else{if(a){var o,i=(0,g.lD)(n);(o=a.styleGroups).push.apply(o,f()(i))}n.length=0,n.push(e),t.push({styleGroups:[],effectiveLayout:r})}}));var r=t[t.length-1];if(r){var a,o=(0,g.lD)(n);(a=r.styleGroups).push.apply(a,f()(o))}return t}(t),V=(l=t[0].richTextStyle,function(e){switch(l){case"SERIES":return{paddingTop:"32px",paddingBottom:"32px",margin:"auto 0",width:"100%"};case"STREAM":case"CARD":case"FULL_PAGE":case"INLINE":return{wordBreak:"break-word",wordWrap:"break-word"};case"SHORTFORM_CARD":return i()({wordBreak:"break-word",wordWrap:"break-word",position:"relative",overflow:"hidden",height:"340px"},_.md(e),{height:"218px"});default:return{}}});return c.createElement("section",{className:o([V,B])},c.createElement(D,{bgImage:r.backgroundImage,isFullPage:"FULL_PAGE"===t[0].richTextStyle,paragraphName:t[0].paragraph.name},s.map((function(e,t){return c.createElement(I,{key:t,layoutGroup:e,postBodyInserts:n,isEmbedded:a})}))))},W=(0,l.Ps)(j(),V.ph.fragments.paragraph),H=(0,l.Ps)(F(),N),Q=(0,l.Ps)(M(),S)},7632:(e,t,n)=>{"use strict";n.d(t,{yO:()=>Se,Pk:()=>ke,v:()=>_e,XV:()=>Te,w6:()=>Be});var r=n(28655),a=n.n(r),o=n(67154),i=n.n(o),l=n(319),c=n.n(l),s=n(71439),u=n(67294),V=n(28859),d=n(6688),f={display:"flex",justifyContent:"center",marginTop:"32px",marginBottom:"14px",paddingTop:"24px",paddingBottom:"10px"},p=function(e){return{backgroundColor:e.baseColor.text.darker,borderRadius:"50%",display:"inline-block",height:"3px",width:"3px"}},g={marginRight:"20px"};function h(){var e=(0,d.I)();return u.createElement("div",{className:e(f),role:"separator"},u.createElement("span",{className:e([p,g])}),u.createElement("span",{className:e([p,g])}),u.createElement("span",{className:e(p)}))}var m=n(56308),v=n(63038),y=n.n(v),b=n(50008),E=n.n(b),A=n(23450),x=n.n(A),w=n(98281),P=n(16831),O=n(42933),I=n(86021),N=n(77180),S=n(27108);function k(){var e=a()(["\n  fragment PostNotesDetails_user on User {\n    id\n    imageId\n    name\n    username\n    ...UserAvatar_user\n  }\n  ","\n"]);return k=function(){return e},e}function T(e){var t=e.grid.xStep;return{padding:"".concat(3*t,"px ").concat(4*t,"px ").concat(3*t,"px"),width:"400px"}}function _(e){var t=e.close,n=e.users,r=(0,d.I)(),a=u.useRef(null),o=(0,N.F)(),i=o.grid.xStep;return u.useEffect((function(){function e(){var e=a.current;if(e&&e.getBoundingClientRect){var n=e.getBoundingClientRect(),r=n.bottom,i=n.top<0||r>window.innerHeight,l=window.innerWidth<o.breakpoints.xl;(i||l)&&t()}}return S.V6.on("scroll_end",e),S.V6.on("resize_throttled",e),function(){S.V6.off("scroll_end",e),S.V6.off("resize_throttled",e)}}),[]),u.createElement("section",{ref:a,className:r(T)},u.createElement(O.x,{borderBottom:"BASE_LIGHTER",marginBottom:"-".concat(i,"px"),paddingBottom:"".concat(2*i,"px")},u.createElement(I.Lh,null,"Highlights (".concat(n.length,")"))),u.createElement(O.x,{marginLeft:"3px"},n.length&&n.map((function(e){return u.createElement(O.x,{display:"inline-block",key:e.id,marginTop:"".concat(5*i,"px"),marginRight:"".concat(5*i,"px"),width:"".concat(8*i,"px")},u.createElement(w.Yt,{hasPopover:!0,link:!0,user:e,scale:"XS"}))}))))}var B=u.memo(_),R=(0,s.Ps)(k(),P.W),L=n(91442),M=n(16803),F=n(93340),j=n(89423),C=n(32589),z=n(19464),G=n(98024),D=n(24438),U=n(11642);function W(){var e=a()(["\n  fragment PostNotesMarkers_creator on User {\n    id\n    name\n  }\n"]);return W=function(){return e},e}function H(){var e=a()(["\n  fragment PostNotesMarkers_highlight on Quote {\n    id\n    endOffset\n    paragraphs {\n      id\n      name\n    }\n    startOffset\n    userId\n    user {\n      id\n      name\n      ...PostNotesDetails_user\n    }\n  }\n  ","\n"]);return H=function(){return e},e}function Q(){return{border:"none",cursor:"pointer",display:"block",padding:"0px",textAlign:"left",width:"100%"}}function Y(){return{left:"100%",position:"absolute",top:0}}function Z(e,t){return{marginTop:"6px",maxWidth:"100%",position:"absolute",top:"".concat(e-(t||0),"px"),whiteSpace:"nowrap",width:"100%"}}function X(e){return{marginLeft:"auto",marginRight:"auto",maxWidth:"".concat((0,D.G)(e,8,!0),"px"),position:"relative"}}function K(){return{display:"inline-block",maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}function J(e,t){return"number"==typeof e.startOffset&&"number"==typeof t.startOffset?e.startOffset<t.startOffset?-1:1:-1}function q(e,t){var n=t.startOffset,r=t.endOffset,a=t.paragraphs[0].name;if(!a||"number"!=typeof n||"number"!=typeof r)return e;var o=!1,i=e[a]||[];return i.length&&(i=i.map((function(e){var a=n<=e.endOffset+1,i=e.startOffset,l=e.endOffset;return a&&(o=!0,e.highlights.push(t),l=Math.max(r,e.endOffset),i=Math.min(n,e.startOffset)),{highlights:e.highlights,endOffset:l,startOffset:i}}))),o||i.push({highlights:[t],endOffset:r,startOffset:n}),e[a]=i,e}function $(e){var t=e.children,n=e.highlightString,r=e.toggle,a=(0,d.I)();return"Top highlight"===n?u.createElement(u.Fragment,null,t):u.createElement("button",{className:a(Q),onClick:function(){return r()},onMouseDown:function(e){return e.preventDefault()}},t)}function ee(e){var t=e.creator,n=e.positionMap,r=e.yPosOffset,a=e.viewerEdge,o=(0,d.I)();if("number"!=typeof r)return null;var i=Array.from(n.entries());return u.createElement(j.I,{nonBlocking:!0},(function(e){return u.createElement(u.Fragment,null,i.map((function(n,i){var l=y()(n,2),c=l[0],s=l[1],V=function(e,t,n,r){var a=null==r?void 0:r.isFollowing;if(1===e.length){if("anon"===e[0].userId)return"Top highlight";if(!t)return null;if(n&&n.id===e[0].userId&&t.id!==n.id&&!a)return null;if(t&&t.id===e[0].userId)return"You highlighted";if(e[0].user&&e[0].user.name)return e[0].user.name}var o=[];if(e.forEach((function(e){if(e.user){var r=t&&t.id===e.userId,i=e.user.name,l=n&&n.id===e.userId&&(!t||t.id!==n.id&&!a);r?o.length&&"You"===o[0]||o.unshift("You"):l||!i||o.includes(i)||o.push(i)}})),!o.length)return"Top highlight";if(1===o.length)return"You"===o[0]?"You highlighted":o[0];if(2===o.length)return"".concat(o[0]," and ").concat(o[1]);var i=o.slice(0,2),l=o.length-i.length;return"".concat(i[0],", ").concat(i[1],", and ").concat(l," ").concat(x()("other",l))}(s,e,t,a);return V?u.createElement("div",{className:o(Z(c,r)),key:i},u.createElement(z.B,null,(function(e){var t=e.isVisible,n=e.hide,r=e.toggle;return u.createElement(u.Fragment,null,u.createElement($,{toggle:r,highlightString:V},u.createElement(G.F,{scale:"S"},u.createElement("span",{className:o(K)},V))),t&&u.createElement(M.G,{boundariesElement:"document",isVisible:!0,hide:n,placement:"right",popoverRenderFn:function(){var e=new Set,t=s.map((function(t){var n=t.user;return n&&n.id&&!e.has(n.id)?(e.add(n.id),n):null})).filter(U.b);return u.createElement(B,{close:n,users:t})}},u.createElement(u.Fragment,null)))}))):null})))}))}var te=u.forwardRef((function(e,t){var n=e.creator,r=e.highlights,a=u.useContext(L.Vc).highlightSegments,o=u.useRef(null),i=u.useState(null),l=y()(i,2),s=l[0],V=l[1],f=(0,d.I)(),p=(0,N.F)(),g=u.useState(null),h=y()(g,2),m=h[0],v=h[1],b=u.useState(null),A=y()(b,2),x=A[0],w=A[1],P=(0,C.Pd)(n).viewerEdge;return u.useEffect((function(){var e=function(){var e=function(e,t,n){var r=new Map;if(e.size&&t.length){var a=function(e){var t=c()(e).sort(J).reduce(q,{});return Object.values(t).reduce((function(e,t){return t&&"object"===E()(t)&&t.length?(e.push.apply(e,c()(t)),e):e}),[])}(t),o=[];a.forEach((function(t){var a=t.highlights[0],i=a.paragraphs[0].name;if(a&&"number"==typeof a.startOffset&&i){var l=e.get("".concat(i,"_").concat(a.startOffset));if(l&&l.ref&&l.ref.current){var c,s=l.ref.current.getBoundingClientRect().top+window.pageYOffset;o.length&&(c=o.find((function(e){return s<e+n.newFonts.body.lineHeight.M&&s>e||s>e-n.newFonts.body.lineHeight.M&&s<e})));var u=c||s,V=r.get(u)||[];V.length||o.push(u);var d=V.concat(t.highlights);d.length&&r.set(u,d)}}}))}return r}(a,r,p);if(V(e),"function"!=typeof t&&null!=t&&t.current&&w(t.current.offsetTop),null!=o&&o.current){var n=o.current.getBoundingClientRect().left,i=window.innerWidth-n-8*p.grid.xStep;v(i)}};S.V6.on("resize_throttled",e);var n=(0,F.x)((function(t){"iframe.resize"!==t.context&&"player.js"!==t.context||e()})).destructor;return e(),function(){S.V6.off("resize_throttled",e),n()}}),[r,a]),u.createElement("div",{className:f(X)},u.createElement(O.x,{display:"block",xs:{display:"none"},sm:{display:"none"},md:{display:"none"},lg:{display:"none"}},u.createElement("aside",{className:f(Y),ref:o,style:{width:m?"".concat(m,"px"):void 0}},s&&u.createElement(ee,{creator:n,highlights:r,positionMap:s,yPosOffset:x,width:m,viewerEdge:P}))))})),ne=u.memo(te),re=(0,s.Ps)(H(),R),ae=(0,s.Ps)(W()),oe=n(25415),ie=n(68356),le=n.n(ie),ce=n(75341),se=n(30570),ue=n(69677),Ve=n(76532),de=n(30027),fe=n(55099),pe=n(95760),ge=n(19725),he=n(54522),me=n(39378),ve=function(e){return{backgroundColor:"transparent",border:"1px solid",borderColor:e.baseColor.border.light,color:e.baseColor.border.darker,padding:"8px 10px 8px 10px",borderRadius:"20px",marginTop:"10px",cursor:"pointer",fontSize:"13px",display:"flex",alignItems:"center",transition:"border-color .2s linear, transform .1s linear",minWidth:"4.7rem",":hover":{borderColor:e.baseColor.border.darker},":active":{transform:"scale(.98)"}}},ye=function(e){return{fill:e.baseColor.background.light,marginRight:"6px",width:"20px","> path":{fill:e.baseColor.border.darker}}},be=le()({loader:function(){return n.e(56391).then(n.bind(n,80838))},modules:["src/components/post/text-to-speech/SpeechifyWidget"],webpack:function(){return[80838]},loading:function(e){var t=e.children;return u.createElement(u.Fragment,null,t)},render:(0,ge.n)("SpeechifyWidget")}),Ee=u.forwardRef((function(e,t){var n=e.postId,r=e.articleRef,a=e.isLockedPreviewOnly,o=(0,d.I)(),i=(0,pe.Av)(),l=(0,ce.SK)(),c=(0,Ve.H)().value,s=!(null==c||!c.mediumMemberAt),V=(0,se.sK)().expandedPostId,f=(0,ue.Ij)().paragraphRefsMappers.paragraphTitlesRefsByStyleMap,p=(0,u.useState)(!0),g=y()(p,2),h=g[0],m=g[1];if(u.useEffect((function(){return i.event("experiment.eligible",{experimentId:"ec7b685b3f40"}),m(!0)}),[f,V]),!c)return null;var v=!s&&a;return u.createElement(O.x,{display:"flex",alignItems:"center",boxSizing:"border-box"},u.createElement(O.x,{flexGrow:"1"},u.createElement(de.P,{size:l?"full":"inset"},u.createElement("div",{ref:t},v?null:h?u.createElement(fe.z,{onClick:function(){if(h){var e=new Audio;e.autoplay=!0,e.src="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",m(!1)}},className:o(ve)},u.createElement(me.Z,{className:o(ye)}),u.createElement("span",null,"Listen to this story")):u.createElement(be,{postId:n,buttonStyle:ve,articleRef:r},u.createElement(fe.z,{className:o(ve)},u.createElement(he.Z,{className:o(ye)}),"0:00"))))))})),Ae=n(53976),xe=function(e){var t=e.postId,n=e.articleRef,r=e.isLockedPreviewOnly,a=(0,Ve.H)(),o=a.value,i=a.loading,l=!!o,c=o&&!!o.mediumMemberAt,s=(0,Ae.VB)({name:"enable_speechify_widget",placeholder:!1}),V=(0,Ae.VB)({name:"is_medium_staff",placeholder:!1});return s?!t||i||!l||c&&!V?null:u.createElement(Ee,{postId:t,articleRef:n,isLockedPreviewOnly:r}):null},we=n(65441);function Pe(){var e=a()(["\n  fragment PostBody_privateNote on Note {\n    ...normalizedBodyModel_privateNote\n    ...PostBodySection_privateNote\n  }\n  ","\n  ","\n"]);return Pe=function(){return e},e}function Oe(){var e=a()(["\n  fragment PostBody_creator on User {\n    ...PostNotesMarkers_creator\n  }\n  ","\n"]);return Oe=function(){return e},e}function Ie(){var e=a()(["\n  fragment PostBody_highlight on Quote {\n    paragraphs {\n      id\n    }\n    ...normalizedBodyModel_highlight\n    ...PostBodySection_highlight\n    ...PostNotesMarkers_highlight\n  }\n  ","\n  ","\n  ","\n"]);return Ie=function(){return e},e}function Ne(){var e=a()(["\n  fragment PostBody_bodyModel on RichText {\n    sections {\n      name\n      startIndex\n      textLayout\n      imageLayout\n      backgroundImage {\n        id\n        originalHeight\n        originalWidth\n      }\n      videoLayout\n      backgroundVideo {\n        videoId\n        originalHeight\n        originalWidth\n        previewImageId\n      }\n    }\n    paragraphs {\n      id\n      ...PostBodySection_paragraph\n    }\n    ...normalizedBodyModel_richText\n  }\n  ","\n  ","\n"]);return Ne=function(){return e},e}var Se=u.forwardRef((function(e,t){var n,r,a=e.bodyModel,o=e.creator,l=e.highlights,s=e.isAuroraPostPageEnabled,f=e.privateNotes,p=e.postBodyInserts,g=e.richTextStyle,v=void 0===g?"FULL_PAGE":g,y=e.shouldHideHighlightAnnotations,b=void 0!==y&&y,E=e.isLockedPreviewOnly,A=void 0===E||E,x=e.postId,w=(0,d.I)(),P=u.createRef(),O=null===(n=u.useContext(V.u6).watchedBounds.get("byline"))||void 0===n||null===(r=n.ref)||void 0===r?void 0:r.current,I=O?O.offsetTop-48:100,N={position:"absolute",left:0,top:"calc(100vh + ".concat(I,"px)"),bottom:"calc(100vh + ".concat(100,"px)"),width:"10px",pointerEvents:"none"},S=(0,oe.Zx)().privateNoteSelection,k=u.useMemo((function(){return l&&S?[].concat(c()(l),[S]):l}),[l,S]),T=p?function(e){var t;return Object.keys(e).some((function(n){return!!e[n].find((function(e){return"BYLINE"===e.insertType}))&&(t=n,!0)})),t}(p):void 0,_=u.useMemo((function(){return(0,we.fj)(a,{bylineParagraphName:T,highlights:k,isAuroraPostPageEnabled:s,isPostPage:!0,privateNotes:f,richTextStyle:v})}),[a,k,f,v]),B=p&&p.first;return u.createElement("div",{ref:t},u.createElement("div",{ref:P},u.createElement(u.Fragment,null,u.createElement(V.TA,{name:"ghost-track",type:"ghost",className:w(N)}),"FULL_PAGE"===v&&l&&l.length>0&&!b&&u.createElement(ne,{creator:o,highlights:c()(l),ref:t}),!!B&&B.map((function(e,t){return e.component?u.createElement("section",{key:"postBodyInsertFirst_".concat(t)},e.component):null})),x?u.createElement(xe,{postId:x,articleRef:P,isLockedPreviewOnly:A}):null),_.map((function(e,t){if("HR"===e){var n,r,a=_[t-1],o=_[t+1],l="HR"!==a&&(null==a||null===(n=a.section)||void 0===n?void 0:n.backgroundImage),c="HR"!==o&&(null==o||null===(r=o.section)||void 0===r?void 0:r.backgroundImage);return l||c?null:u.createElement(h,{key:t})}return u.createElement(m.bz,i()({key:e.section.name||t,postBodyInserts:p},e))}))))})),ke=(0,s.Ps)(Ne(),we.gd,m.Fm),Te=(0,s.Ps)(Ie(),we.Cn,m.rz,re),_e=(0,s.Ps)(Oe(),ae),Be=(0,s.Ps)(Pe(),we.EH,m.ik)}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/7632.4d55df02.chunk.js.map